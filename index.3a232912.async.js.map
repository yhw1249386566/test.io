{"version":3,"sources":["webpack:///./src/index.less","webpack:///./src/layouts/header/index.less","webpack:///./packages/y-eventmitter/index.ts","webpack:///./packages/y-indexeddb/index.ts","webpack:///./src/constant.ts","webpack:///./src/layouts/header/index.tsx","webpack:///./src/index.tsx"],"names":["module","exports","Symbol","SingletonEventemitter","Eventemitter3","constructor","super","singleEventEmitterInstance","this","singleInstance","on","event","fn","context","emit","args","off","once","removeAllListeners","IndexedDBSymbol","IndexedDB","symbol","db","dbName","dbVersion","dbStoreName","specifyKey","Error","indexedDBInstance","getObjectStore","mode","transaction","sessionStorage","setItem","JSON","stringify","location","reload","console","info","objectStore","open","options","req","window","indexedDB","onupgradeneeded","store","currentTarget","result","createObjectStore","keyPath","autoIncrement","createIndex","unique","onsuccess","getDataFromStore","filepath","index","get","addDataFromStore","data","add","deleteDataFromStore","id","target","delete","updateDataFromStore","updateData","allRequest","getAll","allData","dataToUpdate","find","value","put","file","clearDataFromStore","clear","RouteName","RouteLink","EVENT_EMITTER_NAME","Header","props","theme","onToggleTheme","useState","isShowX","setIsShowX","history","useHistory","useLocation","handleClickTitle","useCallback","push","handleToggleTheme","handleOpenDirectoryOnlyArticle","EventEmitter","goBack","useEffect","className","classnames","style","alignItems","justifyContent","icon","pathname","includes","onClick","faSun","faMoon","memo","library","fas","faFacebookSquare","faYoutubeSquare","faLinkedin","faTwitterSquare","Index","setTheme","handleChangeTheme","html","document","querySelector","setAttribute","children"],"mappings":"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","file":"index.3a232912.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"content___3-pTm\",\"layout\":\"layout___1uzIr\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___21_uB\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___3QJyU\",\"textOverflowEllipsis\":\"textOverflowEllipsis___1wr59\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header-light\":\"header-light___3cGmx\",\"header-dark\":\"header-dark___pcRuq\",\"header\":\"header___2O2lm\",\"bars\":\"bars___26yCn\",\"title\":\"title___a0WaH\",\"themeIcon\":\"themeIcon___q2Qkx\",\"hideBars\":\"hideBars___bkJr0\",\"headerInfo\":\"headerInfo___25wHO\",\"back\":\"back___FsmmO\",\"hideLeftIcon\":\"hideLeftIcon___L5pJo\",\"navigation\":\"navigation___3mfr-\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___2C_vn\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___scs3c\",\"textOverflowEllipsis\":\"textOverflowEllipsis___PsGMq\"};","import Eventemitter3 from 'eventemitter3'\n\nconst EventemitterSymbol = Symbol()\n\n/**\n * Reference:\n * https://nodejs.org/api/events.html#events\n * http://nodejs.cn/api-v16/events.html#events\n * https://www.npmjs.com/package/eventemitter3\n */\nclass SingletonEventemitter extends Eventemitter3 {\n    /* eslint-disable no-use-before-define */\n    // 因为 singleInstance - this 的类型是 SingletonEventemitter, 所以要使用 this.singleEventEmitterInstance 就得规定个 static singleEventEmitterInstance\n    static singleEventEmitterInstance: Eventemitter3\n    singleEventEmitterInstance: Eventemitter3 | null\n    /* eslint-disable no-use-before-define */\n\n    constructor() {\n        super()\n        this.singleEventEmitterInstance = null\n    }\n\n    static get singleInstance() {\n        if (!this.singleEventEmitterInstance) {\n            this.singleEventEmitterInstance = new Eventemitter3()\n        }\n\n        return this.singleEventEmitterInstance\n    }\n\n    // 注册一个事件并添加监听器\n    on<T extends string | symbol>(\n        event: T,\n        fn: (...args: any[]) => void,\n        context?: any,\n    ): this {\n        this.singleEventEmitterInstance?.on(event, fn, context)\n        return this\n    }\n\n    // 触发某个注册的事件的监听器\n    emit<T extends string | symbol>(event: T, ...args: any[]): boolean {\n        return this.singleEventEmitterInstance?.emit(event, ...args) ?? false\n    }\n\n    // 移除某个注册事件\n    off<T extends string | symbol>(\n        event: T,\n        fn?: ((...args: any[]) => void) | undefined,\n        context?: any,\n        once?: boolean | undefined,\n    ): this {\n        this.singleEventEmitterInstance?.off(event, fn, context, once)\n\n        return this\n    }\n\n    // 移除所有事件\n    removeAllListeners(event?: string | symbol | undefined): this {\n        this.singleEventEmitterInstance?.removeAllListeners(event)\n\n        return this\n    }\n}\n\nexport default SingletonEventemitter\n","type Data = { filepath: string; file: string }\n\nconst IndexedDBSymbol = Symbol()\n\nclass IndexedDB {\n    /* eslint-disable no-use-before-define */\n    static indexedDBInstance: IndexedDB\n    /* eslint-disable no-use-before-define */\n    private db: IDBDatabase\n    private dbName: string\n    private dbVersion: number\n    private dbStoreName: string\n    private specifyKey: string\n\n    constructor(symbol?: symbol) {\n        /**\n         * 以下方法允许开发者即使多次使用 new 也能创建单实例\n         * 坏处是：用户不能创建多实例了，由于这是一个 package\n         * 所以不使用此方法，而是提供 singleInstance 让用户选择单实例或多实例（多次 new）\n         */\n        // if (IndexedDB.indexedDBInstance) {\n        //     return IndexedDB.indexedDBInstance\n        // }\n        // IndexedDB.indexedDBInstance = this\n\n        if (symbol && symbol !== IndexedDBSymbol) {\n            throw new Error('意外的重复初始化 IndexedDB')\n        }\n\n        this.db = null as any\n        this.dbName = ''\n        this.dbVersion = 1\n        this.dbStoreName = ''\n        this.specifyKey = ''\n    }\n\n    static get singleInstance() {\n        if (!this.indexedDBInstance) {\n            this.indexedDBInstance = new IndexedDB(IndexedDBSymbol)\n        }\n\n        return this.indexedDBInstance\n    }\n\n    private getObjectStore(\n        dbStoreName: string,\n        mode: 'readonly' | 'readwrite' | 'versionchange',\n    ) {\n        if (!this.db?.transaction) {\n            sessionStorage.setItem('indexedDB_this', JSON.stringify(this))\n            location.reload()\n            console.info('已尝试刷新页面，查看 session 找错误原因')\n        }\n\n        return this.db?.transaction(dbStoreName, mode)?.objectStore(dbStoreName)\n    }\n\n    // 初始化请求\n    open(options?: {\n        specifyKey?: string // 用来通过此 key 进行 get, delete\n        dbName?: string\n        dbVersion?: number\n        dbStoreName?: string\n    }) {\n        const {\n            specifyKey = 'filepath',\n            dbName = 'yomuaDB',\n            dbVersion = 1,\n            dbStoreName = 'yomua',\n        } = options ?? {}\n\n        this.dbName = dbName\n        this.dbVersion = dbVersion\n        this.dbStoreName = dbStoreName\n        this.specifyKey = specifyKey\n\n        const req = window.indexedDB.open(dbName, dbVersion)\n\n        req.onupgradeneeded = (event: any) => {\n            const store = event?.currentTarget?.result.createObjectStore(\n                dbStoreName,\n                {\n                    keyPath: 'id',\n                    autoIncrement: true,\n                },\n            )\n\n            store.createIndex(this.specifyKey, this.specifyKey, {\n                unique: true,\n            })\n        }\n\n        req.onsuccess = () => {\n            // Better use \"this\" than \"req\" to get the result to avoid problems with garbage collection.\n            // 但是使用 class 方法比较麻烦，这里就直接使用 req.result\n            // db = this.result;\n            this.db = req.result\n\n            // 不能这么做，事务将会在 onsuccess 结束后就被关闭\n            // 参见：https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API/Using_IndexedDB#%E5%90%91%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%95%B0%E6%8D%AE\n            // this.store = this.getObjectStore(this.dbStoreName, 'readwrite')\n        }\n    }\n\n    getDataFromStore(filepath: string) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readonly')\n        const index = store.index(this.specifyKey)\n\n        return index.get(filepath)\n    }\n\n    addDataFromStore(filepath: string, data: Data) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n\n        return store?.add({\n            ...data,\n            filepath,\n        })\n    }\n\n    deleteDataFromStore(filepath: string) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n\n        const req = store.index(this.specifyKey)\n\n        req.get(filepath).onsuccess = (event: any) => {\n            const id = event?.target?.result?.id\n            store?.delete(id)\n        }\n    }\n\n    updateDataFromStore(filepath: string, updateData: string) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n\n        const allRequest = store.getAll()\n\n        allRequest.onsuccess = (event: any) => {\n            const allData = event?.target?.result || []\n\n            const dataToUpdate = allData.find(\n                (value: Data) => value.filepath === filepath,\n            )\n\n            if (!dataToUpdate) {\n                this.addDataFromStore(filepath, { filepath, file: updateData })\n                return\n            }\n\n            store.put({\n                ...dataToUpdate,\n                file: updateData,\n            })\n        }\n    }\n\n    clearDataFromStore() {\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n        store.clear()\n    }\n}\n\nexport default IndexedDB","export enum RouteName {\n    Index = '首页',\n    Type = '分类',\n    Mood = '心情',\n    About = '关于',\n}\n\nexport enum RouteLink {\n    Index = 'index',\n    Type = 'type',\n    Mood = 'mood',\n    About = 'about',\n}\n\nexport enum EVENT_EMITTER_NAME {\n    // 只有当仅仅存在文章时，此事件才会被监听和触发。\n    OPEN_ARTICLE_DIRECTORY = 'openArticleDirectoryOnlyArticle',\n}\n","import { memo, useCallback, useEffect, useState } from 'react'\nimport { useHistory } from 'umi'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSun, faMoon } from '@fortawesome/free-solid-svg-icons'\n\nimport classnames from '~/packages/y-classnames'\nimport EventEmitter from '~/packages/y-eventmitter'\n\nimport { Text, Direction } from '@/component'\nimport { RouteName, RouteLink, EVENT_EMITTER_NAME } from '@/constant'\n\nimport style from './index.less'\nimport { useLocation } from 'umi'\n\ninterface HeaderProps {\n    theme?: Theme\n    onToggleTheme?: (theme: Theme) => void\n}\n\n// const navigationData = [\n//     { id: 'index', label: RouteName.Index, link: RouteLink.Index },\n//     { id: 'type', label: RouteName.Type, link: RouteLink.Type },\n//     { id: 'mood', label: RouteName.Mood, link: RouteLink.Mood },\n//     { id: 'about', label: RouteName.About, link: RouteLink.About },\n// ]\n\nconst Header = (props: HeaderProps) => {\n    const { theme = 'light', onToggleTheme = () => null } = props\n\n    // 显示 [X] 图标\n    const [isShowX, setIsShowX] = useState(false)\n\n    const history = useHistory()\n    const location = useLocation()\n\n    const handleClickTitle = useCallback(() => {\n        history.push(`/${RouteLink.Index}`)\n        setIsShowX(false)\n    }, [])\n\n    const handleToggleTheme = useCallback((theme: Theme) => {\n        return () => {\n            if (theme === 'light') {\n                onToggleTheme('dark')\n                return\n            }\n            onToggleTheme('light')\n        }\n    }, [])\n\n    const handleOpenDirectoryOnlyArticle = useCallback(() => {\n        EventEmitter.singleInstance.emit(\n            EVENT_EMITTER_NAME.OPEN_ARTICLE_DIRECTORY,\n            {\n                isShowX: !isShowX,\n            },\n        )\n    }, [isShowX])\n\n    const handleBack = useCallback(() => {\n        history.goBack()\n    }, [])\n\n    useEffect(() => {\n        EventEmitter.singleInstance.on(\n            EVENT_EMITTER_NAME.OPEN_ARTICLE_DIRECTORY,\n            ({ isShowX }) => {\n                setIsShowX(isShowX)\n            },\n        )\n        return () => {\n            EventEmitter.singleInstance.off(\n                EVENT_EMITTER_NAME.OPEN_ARTICLE_DIRECTORY,\n            )\n        }\n    }, [])\n\n    return (\n        <div className={classnames(style.header, style[`header-${theme}`])}>\n            <Direction\n                alignItems='center'\n                justifyContent='space-between'\n                className={style.headerInfo}\n            >\n                {/* <FontAwesomeIcon\n                    className={classnames(style.back, {\n                        [style.hideLeftIcon]:\n                            location.pathname === `/${RouteLink.Index}`,\n                    })}\n                    icon='chevron-left'\n                    onClick={handleBack}\n                /> */}\n\n                <FontAwesomeIcon\n                    icon={isShowX ? 'times' : 'bars'}\n                    className={classnames(style.bars, {\n                        [style.hideBars]:\n                            location.pathname !== '/feature/article' &&\n                            !location.pathname.includes('/heading'),\n                    })}\n                    onClick={handleOpenDirectoryOnlyArticle}\n                />\n\n                <Text className={style.title} onClick={handleClickTitle}>\n                    青芽\n                </Text>\n\n                <FontAwesomeIcon\n                    className={style.themeIcon}\n                    icon={theme === 'light' ? faSun : faMoon}\n                    onClick={handleToggleTheme(theme)}\n                />\n            </Direction>\n\n            {/* 暂时不需要 Index Type Mood About 这些 */}\n            {/*  <Direction>\n                <Navigation\n                    data={navigationData}\n                    className={style.navigation}\n                />\n            </Direction> */}\n        </div>\n    )\n}\n\nexport default memo(Header)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Layout } from 'antd'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n    faLinkedin,\n    faTwitterSquare,\n    faYoutubeSquare,\n    faFacebookSquare,\n} from '@fortawesome/free-brands-svg-icons'\n\nimport IndexedDB from '~/packages/y-indexeddb'\n\nimport style from './index.less'\nimport Footer from './layouts/footer'\nimport { Sidebar } from './component'\nimport Header from './layouts/header'\nimport { ThemeProvider } from './contexts'\n\n// 添加 fontawesome 免费版: https://fontawesome.com/search?q=menu&o=r&m=free\nlibrary.add(fas, faFacebookSquare, faYoutubeSquare, faLinkedin, faTwitterSquare)\n\n// 初始化 IndexedDB\nIndexedDB.singleInstance.open({\n    dbName: 'yomuaDB',\n    dbVersion: 1,\n    dbStoreName: 'yomua',\n    specifyKey: 'filepath',\n})\n\nconst Index = (props: { children: React.ReactNode }) => {\n    const [theme, setTheme] = useState<Theme>('light')\n\n    const handleChangeTheme = useCallback((theme: Theme) => {\n        setTheme(theme)\n    }, [])\n\n    useEffect(() => {\n        const html = document.querySelector('html')\n\n        if (!html) {\n            return\n        }\n\n        html.setAttribute('data-theme', theme)\n    }, [theme])\n\n    return (\n        <ThemeProvider theme={theme}>\n            <Layout className={style.layout}>\n                <Header theme={theme} onToggleTheme={handleChangeTheme} />\n\n                <Layout.Content className={style.content}>\n                    <Sidebar />\n                    {props.children}\n                </Layout.Content>\n\n                {/* <Footer /> */}\n            </Layout>\n        </ThemeProvider>\n    )\n}\n\nexport default Index\n"],"sourceRoot":""}