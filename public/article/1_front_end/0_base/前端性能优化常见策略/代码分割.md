# 术语

- 模块：指未被打包的文件，比如：图片、js 文件、以及其他资源等。
- chunk: 指一个/多个模块被打包后形成的一个新的 `.js` 文件。

chunk 和模块的区别：

- 模块是打包前的源文件；
  chunk 是打包后的文件；
- chunk 是由1个/多个模块组成；
  通过逻辑断点、路由分割、组件分割、文件大小分割等各种操作判断 1 个模块是否可以和其他模块进行组合成 chunk 或单独拆分成一个 chunk。
  注意：多个模块组成可能指的是：多个模块中，通过分割代码规则将每个模块的代码块抽离出来一点进行组合，形成一个 chunk.

模块是在编写代码的过程中为了可读性、可维护性、可复用性、健壮性等要求从而产生的概念。

chunk 是在代码分割的过程中为了提升加载速度、应用性能等要求产生的概念。

# 概念

我们将文件认作是一个个模块，当这些模块相互依赖就成了一个应用程序。

- **不启用代码分割：**我们通过 webpack 进行打包时，若不启用代码分割，这些相互依赖的模块*（如：文件、图片、其他库等）*将被统一打包到一个 chunk 中。

  在较大的应用程序被打包成 `index.html`, `index.js` 后，浏览器请求 `index.html`，然后通过 `index.html`  下载 `index.js` 时，由于 .js chunk 会过于庞大和复杂，这会导致初始化渲染非常慢。

- **启用代码分割：**在这依赖的过程中，我们按照某些确定的规则将模块独立出去。
  只在程序运行时需要此模块时，才对此模块进行加载并解释执行，那么当页面初始化时，所需要加载的模块就会变少，初始化速度就会提升。
  比如：打包成 `index.html`, `home.bundle.js`, `about.bundle.js`，浏览器请求 `index.html`，然后通过 .html 下载 `home.bundle.js`，初始化完成。当触发某个事件时，再下载 `about.bundle.js`。

# 分割代码规则

- **按路由分割：** 将应用的不同路由对应的代码分割成不同的模块，当用户访问特定路由时再加载对应的模块。
  这样可以避免用户在初始加载时下载不必要的代码。
- **按组件分割：** 将应用的不同组件对应的代码分割成不同的模块，只在某个组件被实际使用时再加载对应的模块。
  这在应用具有很多复用组件的情况下特别有效。
- **动态导入：** 使用动态导入语法（比如ES6的`import()`）来异步加载模块。
  这样可以在需要时按需加载特定模块，而不是在初始加载时就加载所有代码。
- [Webpack等构建工具支持](https://webpack.docschina.org/plugins/split-chunks-plugin/)： 像Webpack这样的构建工具提供了代码分割的功能。你可以在配置中设置代码分割的规则，使构建工具根据这些规则自动将代码分割成适当的模块。