{"version":3,"sources":["webpack:///./src/base_component/direction/index.less","webpack:///./src/base_component/text/index.less","webpack:///./src/component/card/index.less","webpack:///./src/component/kbd/index.less","webpack:///./src/component/markdown/index.less","webpack:///./src/component/search/index.less","webpack:///./src/component/sidebar/index.less","webpack:///./src/base_component/text/index.tsx","webpack:///./src/base_component/direction/index.tsx","webpack:///./src/component/card/index.tsx","webpack:///./src/component/sidebar/index.tsx","webpack:///./src/component/markdown/index.tsx","webpack:///./src/component/kbd/index.tsx","webpack:///./src/component/search/index.tsx","webpack:///./src/contexts/theme.tsx","webpack:///./src/hooks/useTheme.ts","webpack:///./src/utils/constant.ts","webpack:///./src/utils/index.ts","webpack:///./src/utils/request.ts"],"names":["module","exports","Text","props","className","otherProps","theme","useTheme","textClassName","classnames","style","children","memo","Direction","mode","CustomCard","img","previewImg","time","description","title","author","tag","lastUpdateTime","cardProps","useState","visible","setVisible","handleClickImage","useCallback","event","stopPropagation","bordered","hoverable","src","preview","onClick","icon","map","index","name","key","color","invertColor","marginRight","maskClosable","onVisibleChange","vis","Sidebar","isShowSidebar","setIsShowSidebar","prevScrollPosition","useRef","document","documentElement","scrollTop","handleTop","preventDefault","currentLocation","slider","window","scrollTo","getType","SCROLL_SPEED","isNaN","log","type","message","requestAnimationFrame","useWindowEventListener","target","Document","isDownScroll","current","delay","SyntaxHighlighter","jsx","js","bash","Markdown","remarkPlugins","remarkGfm","rehypePlugins","rehypeRaw","components","code","rest","match","exec","PreTag","replace","language","light","dark","data","Style","item","i","text","useDebouncedValue","value","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","forwardRef","ref","placeholder","kbd","onClear","onChange","inputValue","setInputValue","faMagnifyingGlass","length","faXmark","focus","ThemeContext","createContext","ThemeProvider","Provider","useContext","CONVERT_TYPE_MAP","string","number","Number","boolean","toLowerCase","null","undefined","bigInt","BigInt","symbol","Symbol","object","JSON","parse","error","array","function","eval","currentWorkingDir","process","cwd","ENV_KEY","Dotenv","path","getEnvValue","envKey","options","returnType","converter","Error","enValue","includes","toString","split","RouteName","RouteLink","LOCAL_STORAGE_NAME","EVENT_NAME","ARTICLE_COMMIT_LAST_DATE","ARTICLE_SUFFIX_NAME","ARTICLE_DIR","ARTICLE_PICtURE","WRITE_ARTICLE_DIR","Promise","resolve","colorValue","str","substring","createFileTree","dirData","parentPath","fileTree","Object","entries","fullPath","isObject","subTree","push","minDelayTime","startTime","Date","now","endTime","get404Md","request","then","res","success","parseArticlePath","suffix","reg","RegExp","segments","filter","Boolean","result","currentPath","stringIncludesArray","arr","some","interceptorsMap","response","interceptors","use","onFulfilled","onRejected","checkResponse","status","statusText","handleResponse","contentType","headers","get","newResponse","forEach","json","handleResult","handleError","url","params","queryString","reset","Accept","keys","Array","isArray","join","fetch","catch"],"mappings":"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","file":"1126.180f84d4.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"row___1UdcL\",\"column\":\"column___3S6qx\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___2PnqU\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___20OLN\",\"textOverflowEllipsis\":\"textOverflowEllipsis___1u-a9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"text___eH7ih\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___15Z7m\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___1RylG\",\"textOverflowEllipsis\":\"textOverflowEllipsis___eiNMl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card-light\":\"card-light___wL7zL\",\"card-dark\":\"card-dark___33apU\",\"card\":\"card___1Aqfk\",\"image\":\"image___3g604\",\"content\":\"content___3lENv\",\"title\":\"title___2Bzk-\",\"description\":\"description___2ORSX\",\"info\":\"info___2_m7q\",\"author\":\"author___2emhg\",\"time\":\"time___YsVpW\",\"tags\":\"tags___hmLww\",\"tag\":\"tag____Lyfk\",\"preview\":\"preview___1DC83\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___1MBBn\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___shsM8\",\"textOverflowEllipsis\":\"textOverflowEllipsis___2KB4g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"kbd-light\":\"kbd-light___2tqLQ\",\"kbd-dark\":\"kbd-dark___vAOc3\",\"kbd\":\"kbd___3PJmZ\",\"item\":\"item___ZIVrJ\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___2dQOV\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___1aJqL\",\"textOverflowEllipsis\":\"textOverflowEllipsis___32Wcz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"markdown\":\"markdown___3CFfF\",\"markdownBody\":\"markdownBody___1GIBf\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___3vgbL\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___2qoug\",\"textOverflowEllipsis\":\"textOverflowEllipsis___3lTmH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-light\":\"search-light___1ROy1\",\"search-dark\":\"search-dark___1bj8E\",\"search\":\"search___1Kdf7\",\"icon\":\"icon___4bHCl\",\"clearIcon\":\"clearIcon___KC7Lz\",\"hideClearIcon\":\"hideClearIcon___SxUWr\",\"input\":\"input___1RP4I\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___52UaU\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___1_-FV\",\"textOverflowEllipsis\":\"textOverflowEllipsis___3xsbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar-light\":\"sidebar-light___ctrWB\",\"sidebar-dark\":\"sidebar-dark___1CwDu\",\"sidebar\":\"sidebar___2Jc5u\",\"sidebarHide\":\"sidebarHide___2pkhV\",\"goTop\":\"goTop___2L6MT\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___nCEGx\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___2BFqe\",\"textOverflowEllipsis\":\"textOverflowEllipsis___XwSfv\"};","import React, { memo } from 'react'\nimport classnames from '@yomua/y-classnames'\n\nimport { useTheme } from '@/hooks'\n\nimport style from './index.less'\n\ntype Text = React.ClassAttributes<HTMLDivElement> &\n    React.HTMLAttributes<HTMLDivElement>\n\ninterface TextProps extends Text {\n    children?: React.ReactNode\n    className?: string\n}\n\nconst Text = (props: TextProps) => {\n    const { className = '', ...otherProps } = props\n\n    const theme = useTheme()\n\n    const textClassName = classnames(style.text, className, {\n        [style[`text-${theme}`]]: theme,\n    })\n\n    return (\n        <div className={textClassName} {...otherProps}>\n            {props.children}\n        </div>\n    )\n}\n\nexport default memo(Text)\n","import React, { memo } from 'react'\nimport classnames from '@yomua/y-classnames'\n\nimport style from './index.less'\n\ntype Div = React.ClassAttributes<HTMLDivElement> &\n    React.HTMLAttributes<HTMLDivElement>\n\ninterface DirectionProps extends Div {\n    className?: string\n    mode?: 'row' | 'column'\n    children?: React.ReactNode\n}\n\nconst Direction = (props: DirectionProps) => {\n    const { children, mode = 'row', className = '', ...otherProps } = props\n\n    return (\n        <div className={classnames(style[mode], className)} {...otherProps}>\n            {children}\n        </div>\n    )\n}\n\nexport default memo(Direction)\n","import { memo, useState, useCallback } from 'react'\nimport classnames from '@yomua/y-classnames'\nimport { Tag, Card, Image, CardProps } from 'antd'\nimport { IconProp } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { useTheme } from '@/hooks'\nimport { invertColor } from '@/utils'\nimport { Text } from '@/base_component'\n\nimport style from './index.less'\n\ninterface CustomProps extends CardProps {\n    img?: string\n    time?: string\n    title?: string\n    author?: string\n    previewImg?: string\n    description?: string\n    lastUpdateTime?: string\n    tag?: {\n        name: string\n        key?: string\n        color?: string\n        icon?: IconProp\n    }[]\n}\n\nconst CustomCard = (props: CustomProps) => {\n    const {\n        img,\n        previewImg,\n        time,\n        description,\n        title,\n        author,\n        className,\n        tag = [],\n        lastUpdateTime,\n        ...cardProps\n    } = props\n\n    const [visible, setVisible] = useState(false)\n\n    const theme = useTheme()\n\n    const handleClickImage = useCallback(\n        (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            setVisible(true)\n            event.stopPropagation()\n        },\n        [],\n    )\n\n    return (\n        <div className={style.cardBox}>\n            <Card\n                bordered\n                hoverable\n                className={classnames(\n                    style.card,\n                    style[`card-${theme}`],\n                    className,\n                )}\n                {...cardProps}\n            >\n                <Image\n                    src={img}\n                    className={style.image}\n                    preview={{ visible: false }}\n                    onClick={handleClickImage}\n                />\n\n                <div className={style.content}>\n                    <Text className={style.title}>{title}</Text>\n\n                    <Text className={style.description}>{description}</Text>\n\n                    <div className={style.info}>\n                        <div>\n                            <FontAwesomeIcon\n                                icon='user'\n                                className={style.author}\n                            />\n                            <Text>{author}</Text>\n                        </div>\n                        <div>\n                            <FontAwesomeIcon\n                                icon='clock'\n                                className={style.time}\n                            />\n                            <Text>{time}</Text>\n                        </div>\n                    </div>\n\n                    {lastUpdateTime && (\n                        <div className={style.info}>\n                            <div>\n                                <FontAwesomeIcon icon='clock' />\n                                <Text>最后更新时间: </Text>\n                            </div>\n                            <div>\n                                <Text>{lastUpdateTime}</Text>\n                            </div>\n                        </div>\n                    )}\n\n                    <div className={style.tags}>\n                        {tag.map((tag, index) => {\n                            const { name, key, icon, color } = tag\n\n                            return (\n                                <Tag\n                                    className={style.tag}\n                                    key={key ?? index}\n                                    color={\n                                        theme === 'light'\n                                            ? color\n                                            : invertColor(color ?? '#55acee')\n                                    }\n                                    icon={\n                                        icon ? (\n                                            <FontAwesomeIcon\n                                                icon={icon}\n                                                style={{\n                                                    marginRight: '5px',\n                                                }}\n                                            />\n                                        ) : null\n                                    }\n                                >\n                                    {name}\n                                </Tag>\n                            )\n                        })}\n                    </div>\n                </div>\n            </Card>\n\n            <div className={style.preview}>\n                <Image.PreviewGroup\n                    preview={{\n                        visible,\n                        maskClosable: false,\n                        onVisibleChange: (vis) => setVisible(vis),\n                    }}\n                >\n                    <Image src={previewImg} />\n                </Image.PreviewGroup>\n            </div>\n        </div>\n    )\n}\n\nexport default memo(CustomCard)\n","import { memo, useCallback, useState, useRef } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { getType } from '@yomua/y-screw'\nimport classnames from '@yomua/y-classnames'\nimport { useWindowEventListener } from '@yomua/y-hooks'\nimport log from '@yomua/y-tlog'\n\nimport { useTheme } from '@/hooks'\nimport { SCROLL_SPEED } from '@/utils/constant'\n\nimport style from './index.less'\n\nfunction Sidebar() {\n    const [isShowSidebar, setIsShowSidebar] = useState(false)\n\n    const theme = useTheme()\n\n    const prevScrollPosition = useRef(document.documentElement.scrollTop)\n\n    const handleTop: React.MouseEventHandler<SVGSVGElement> = useCallback(\n        (event) => {\n            event.preventDefault()\n\n            let currentLocation = document.documentElement.scrollTop\n\n            function slider() {\n                if (currentLocation < 0) {\n                    window.scrollTo(0, 0)\n                    return\n                }\n\n                if (getType(SCROLL_SPEED) !== 'number' || isNaN(SCROLL_SPEED)) {\n                    log.group('SCROLL_SPEED ERROR', [\n                        { type: 'info', message: SCROLL_SPEED },\n                    ])\n                    window.scrollTo(0, 0)\n                    return\n                }\n\n                currentLocation -= SCROLL_SPEED\n                window.scrollTo(0, currentLocation)\n                window.requestAnimationFrame(slider)\n            }\n\n            slider()\n        },\n        [],\n    )\n\n    useWindowEventListener(\n        'scroll',\n        (event) => {\n            if (!(event.target instanceof Document)) {\n                return\n            }\n\n            const { scrollTop = 0 } = event?.target?.documentElement ?? {\n                scrollTop: 0,\n            }\n\n            // 往下滚动\n            const isDownScroll = scrollTop > prevScrollPosition.current\n\n            if (scrollTop === 0 || isDownScroll) {\n                setIsShowSidebar(false)\n                prevScrollPosition.current = scrollTop\n                return\n            }\n\n            // 此处相当于往上滚动, 则显示 sidebar\n            prevScrollPosition.current = scrollTop\n            setIsShowSidebar(true)\n        },\n        [],\n        { delay: 100 },\n    )\n\n    return (\n        <div\n            className={classnames(style.sidebar, style[`sidebar-${theme}`], {\n                [style.sidebarHide]: !isShowSidebar,\n            })}\n        >\n            <FontAwesomeIcon\n                icon='circle-chevron-up'\n                className={style.goTop}\n                onClick={handleTop}\n            />\n        </div>\n    )\n}\n\nexport default memo(Sidebar)\n","/* eslint-disable react/no-children-prop */\nimport { memo } from 'react'\nimport remarkGfm from 'remark-gfm'\nimport rehypeRaw from 'rehype-raw'\nimport ReactMarkdown from 'react-markdown'\nimport classnames from '@yomua/y-classnames'\n// 语法高亮\nimport { PrismAsyncLight as SyntaxHighlighter } from 'react-syntax-highlighter'\nimport jsx from 'react-syntax-highlighter/dist/esm/languages/prism/jsx'\nimport js from 'react-syntax-highlighter/dist/esm/languages/prism/javascript'\nimport bash from 'react-syntax-highlighter/dist/esm/languages/prism/bash'\nimport {\n    materialLight as light,\n    materialDark as dark,\n} from 'react-syntax-highlighter/dist/esm/styles/prism'\n\nimport { useTheme } from '@/hooks'\n\nimport './markdown.css'\nimport style from './index.less'\n\ntype MarkdownProps = {\n    children: React.ReactNode | string\n    className?: string\n}\n\nSyntaxHighlighter.registerLanguage('jsx', jsx)\nSyntaxHighlighter.registerLanguage('javascript', js)\nSyntaxHighlighter.registerLanguage('bash', bash)\n\nconst Markdown = (props: MarkdownProps) => {\n    const { className = '', children } = props\n    const theme = useTheme()\n\n    return (\n        <div\n            className={classnames(\n                style.markdown,\n                {\n                    [`markdown-${theme}`]: theme,\n                },\n                className,\n            )}\n        >\n            <ReactMarkdown\n                className={classnames('markdown-body', style.markdownBody)}\n                children={children as string}\n                // 即使手动引入了 markdown.css, remarkPlugins 和 rehypePlugins 也有用, 至少表格相关的样式需要。\n                remarkPlugins={[remarkGfm]}\n                // https://github.com/remarkjs/react-markdown?tab=readme-ov-file#appendix-a-html-in-markdown\n                // 即: 由于 ReactMarkdown 会转移 .md 中的 html 文件, 这会使得将 .md 转成 html 时增大 html 大小,\n                // 所以若你信任 .md 文件, 则使用 rehypeRaw, 它允许你的 html 生效并能减少生成后的 html 大小.\n                rehypePlugins={[rehypeRaw]}\n                components={{\n                    // 对于 .md 文件中的 以 ``` 开头的代码块，会被自动高亮, 如: ```js, ````jsx\n                    code(props) {\n                        const { children, className, ...rest } = props\n                        const match = /language-(\\w+)/.exec(className || '')\n\n                        if (match) {\n                            return (\n                                <SyntaxHighlighter\n                                    {...rest}\n                                    PreTag='div'\n                                    children={`${children}`.replace(/\\n$/, '')}\n                                    language={match[1]}\n                                    style={theme === 'light' ? light : dark}\n                                />\n                            )\n                        }\n\n                        return (\n                            <code {...rest} className={className}>\n                                {children}\n                            </code>\n                        )\n                    },\n                }}\n            />\n        </div>\n    )\n}\n\nexport default memo(Markdown)\n","import { memo } from 'react'\n\nimport { useTheme } from '@/hooks'\n\nimport Style from './index.less'\n\ntype KbdProps = {\n    data: {\n        text: string\n    }[]\n}\n\nexport default memo(function Kbd(props: KbdProps) {\n    const { data = [] } = props\n\n    const theme = useTheme()\n\n    return (\n        <div className={`${Style.kbd} ${Style[`kbd-${theme}`]}`}>\n            {data.map((item, i) => {\n                const { text } = item\n\n                return (\n                    <kbd key={i} className={Style.item}>\n                        {text}\n                    </kbd>\n                )\n            })}\n        </div>\n    )\n})\n","import classnames from '@yomua/y-classnames'\nimport { forwardRef, memo, useEffect, useState } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faMagnifyingGlass, faXmark } from '@fortawesome/free-solid-svg-icons'\n\nimport { useTheme } from '@/hooks'\n\nimport Kbd from '../kbd'\n\nimport Style from './index.less'\nimport { useWindowEventListener } from '@yomua/y-hooks'\n\ntype SearchProps = {\n    className?: string\n    placeholder?: string\n    kbd?: {\n        text: string\n    }[]\n    event?: {\n        name: keyof WindowEventMap\n        handler: (event: any) => void\n    }\n    onChange?: (value: string) => void\n    onClear?: () => void\n}\n\nfunction useDebouncedValue(value: string, delay: number) {\n    const [debouncedValue, setDebouncedValue] = useState(value)\n\n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setDebouncedValue(value)\n        }, delay)\n\n        return () => {\n            clearTimeout(handler)\n        }\n    }, [value, delay])\n\n    return debouncedValue\n}\n\nexport default memo(\n    forwardRef<HTMLInputElement, SearchProps>(function Search(props, ref) {\n        const {\n            className = '',\n            placeholder = '',\n            kbd = [],\n            event = { name: 'click', handler: () => null },\n            onClear = () => null,\n            onChange = () => null,\n        } = props\n\n        const [inputValue, setInputValue] = useState('')\n\n        // 既能对 onChange 防抖, 也能及时响应 inputValue 变化\n        const debouncedValue = useDebouncedValue(inputValue, 150)\n\n        const theme = useTheme()\n\n        useEffect(() => {\n            onChange(debouncedValue)\n        }, [debouncedValue])\n\n        useWindowEventListener(event.name, event.handler)\n\n        return (\n            <div\n                className={classnames(\n                    Style.search,\n                    Style[`search-${theme}`],\n                    className,\n                )}\n            >\n                <FontAwesomeIcon\n                    icon={faMagnifyingGlass}\n                    className={Style.icon}\n                />\n\n                <input\n                    ref={ref}\n                    value={inputValue}\n                    type='text'\n                    className={Style.input}\n                    placeholder={placeholder}\n                    onChange={(event) => {\n                        setInputValue(event.target.value)\n                    }}\n                />\n\n                {kbd.length > 0 && <Kbd data={kbd} />}\n\n                <FontAwesomeIcon\n                    icon={faXmark}\n                    className={classnames(Style.icon, Style.clearIcon, {\n                        [Style.hideClearIcon]: !inputValue,\n                    })}\n                    onClick={() => {\n                        setInputValue('')\n                        onClear()\n                        ;(\n                            ref as React.RefObject<HTMLInputElement>\n                        )?.current?.focus()\n                    }}\n                />\n            </div>\n        )\n    }),\n)\n","import React, { createContext } from 'react'\n\ninterface ThemeProviderProps {\n    theme: Theme\n    children: React.ReactNode\n}\n\nexport const ThemeContext = createContext('light')\n\nconst ThemeProvider = (props: ThemeProviderProps) => {\n    const { theme } = props\n\n    return (\n        <ThemeContext.Provider value={theme}>\n            {props.children}\n        </ThemeContext.Provider>\n    )\n}\n\nexport default ThemeProvider\n","import { useContext } from 'react'\n\nimport { ThemeContext } from '@/contexts'\n\nexport default function useTheme() {\n    return useContext(ThemeContext) as Theme\n}\n","import path from 'path'\nimport Dotenv from 'dotenv'\nimport log from '@yomua/y-tlog'\n\nimport { EnvValueType, JSValueType } from './utils.d'\n\nexport const CONVERT_TYPE_MAP: Record<\n    JSValueType,\n    (value: string) => EnvValueType<JSValueType>\n> = {\n    string: (value) => value,\n    number: (value) => Number(value),\n    boolean: (value) => value.toLowerCase() === 'true',\n    null: () => null,\n    undefined: () => undefined,\n    bigInt: (value) => BigInt(value),\n    symbol: (value) => Symbol(value),\n    object: (value) => {\n        try {\n            return JSON.parse(value)\n        } catch (error: any) {\n            log.group('JSON.parse 失败', [\n                { type: 'error', message: error },\n                {\n                    message: `要解析的值为: ${\n                        value === '' ? '空字符串' : value\n                    }`,\n                },\n            ])\n            return null\n        }\n    },\n    array: (value) => {\n        try {\n            return JSON.parse(value)\n        } catch (error: any) {\n            log.group('JSON.parse 失败', [\n                { type: 'error', message: error },\n                {\n                    message: `要解析的值为: ${\n                        value === '' ? '空字符串' : value\n                    }`,\n                },\n            ])\n\n            return []\n        }\n    },\n    function: (value) => eval(`(${value})`),\n}\n\n// 这里的目的是因为: constants 存在打包之前就需要的 process.env 中的变量\n// 所以需要在这里提前注入环境变量(否则是获取不到打包之前就需要的 process.env 的变量的)\n// 即: umi 在进行打包 (使用 webpack) 时, 我们再这之前会执行 scripts/index.ts, 进行一些操作,\n// => 而这些操作需要使用到环境变量, 在这里通过 dotenv 提前将 .env 注入到环境变量, 并读取然后赋值给常量\n// => 从而在打包之前就可以使用这些值.\n// - Ref: /** 以下变量用于打包之前的准备 */\nconst currentWorkingDir = process.cwd()\n// 将指定文件的内容写入到环境变量中 (process.env)\nDotenv.config({ path: path.join(currentWorkingDir, '.env') })\n\n/** 以下不需要导出，用在此文件 */\n\nenum ENV_KEY {\n    SCROLL_SPEED = 'SCROLL_SPEED',\n    ARTICLE_DIR = 'ARTICLE_DIR',\n    WRITE_ARTICLE_DIR = 'WRITE_ARTICLE_DIR',\n    ARTICLE_PICtURE = 'ARTICLE_PICtURE',\n    ARTICLE_SUFFIX_NAME = 'ARTICLE_SUFFIX_NAME',\n    ARTICLE_COMMIT_LAST_DATE = 'ARTICLE_COMMIT_LAST_DATE',\n}\n\nconst getEnvValue = <ReturnType extends JSValueType, DataType = ReturnType>(\n    envKey: ENV_KEY,\n    options?: {\n        returnType?: ReturnType\n    },\n): EnvValueType<ReturnType, DataType> => {\n    if (envKey === undefined || envKey === null) {\n        return null as EnvValueType<ReturnType, DataType>\n    }\n\n    const { returnType = 'string' } = options ?? {}\n\n    const converter = CONVERT_TYPE_MAP[returnType]\n\n    if (!converter) {\n        throw new Error('类型不存在')\n    }\n\n    const enValue = process.env[envKey] ?? ''\n\n    if (returnType === 'array' && enValue.includes(',')) {\n        return enValue.toString().split(',') as EnvValueType<\n            ReturnType,\n            DataType\n        >\n    }\n\n    return converter(process.env[envKey] ?? '') as EnvValueType<\n        ReturnType,\n        DataType\n    >\n}\n\n/** 以上不需要导出，用在此文件 */\n\nexport enum RouteName {\n    Index = '首页',\n    Type = '分类',\n    Mood = '心情',\n    About = '关于',\n}\n\nexport enum RouteLink {\n    Index = 'index',\n    Type = 'type',\n    Mood = 'mood',\n    About = 'about',\n}\n\nexport enum LOCAL_STORAGE_NAME {\n    SELECTED_ARTICLE_KEY = 'selectedArticleKey',\n    ARTICLE_TREE_EXPANDED_KEYS = 'articleTreeExpandedKeys',\n    DATA_THEME = 'data-theme',\n    GPT3_CHAT_INFORMATION = 'gpt3_chat_information',\n    SEARCH_HISTORY_RESULT = 'searchHistoryResult',\n}\n\n// 所有自定义事件名\nexport enum EVENT_NAME {\n    // 只有当视区内只显示文章时，此事件才会被监听和触发。\n    OPEN_ARTICLE_DIRECTORY = 'openArticleDirectoryOnlyArticle',\n    HEADER_MENU_ICON = 'headerMenuIcon',\n    TOGGLE_SEARCH_PANEL = 'toggleSearchPanel',\n}\n\n/************************* 以下都是 .env 中的变量值 *************************/\n\nexport const SCROLL_SPEED = getEnvValue<'number'>(ENV_KEY.SCROLL_SPEED, {\n    returnType: 'number',\n})\n\n/** 以下变量即用于打包之前, 也用于打包后的运行时 */\n\nexport const ARTICLE_COMMIT_LAST_DATE = getEnvValue<'string'>(\n    ENV_KEY.ARTICLE_COMMIT_LAST_DATE,\n)\n\nexport const ARTICLE_SUFFIX_NAME = getEnvValue<'array', string>(\n    ENV_KEY.ARTICLE_SUFFIX_NAME,\n    { returnType: 'array' },\n)\n\n/** 以上变量即用于打包之前, 也用于打包后的运行时 */\n\n/** 以下变量用于打包之前的准备 */\n\nexport const ARTICLE_DIR = getEnvValue<'string'>(ENV_KEY.ARTICLE_DIR)\n\nexport const ARTICLE_PICtURE = getEnvValue<'string'>(ENV_KEY.ARTICLE_PICtURE)\n\nexport const WRITE_ARTICLE_DIR = getEnvValue<'string'>(\n    ENV_KEY.WRITE_ARTICLE_DIR,\n)\n\n/** 以上变量用于打包之前的准备 */\n\n/************************* 以上都是 .env 中的变量值 *************************/\n","/* eslint-disable no-use-before-define */\n\nimport { getType } from '@yomua/y-screw'\n\nimport { ARTICLE_SUFFIX_NAME } from '@/utils/constant'\n\nimport { ArticleFileTree } from './utils.d'\nimport request from './request'\n\n/** start --- 不需要导出 --- start */\ntype ArticleDirData = {\n    [fileName: string]: string | ArticleDirData\n}\n\n/** end --- 不需要导出 --- end */\n\nexport const delay = async (time: number) =>\n    new Promise((resolve) => setTimeout(resolve, time))\n\nexport const invertColor = (color: string) => {\n    const colorValue: any = '0x' + color.replace(/#/g, '')\n    const str = '000000' + (0xffffff - colorValue).toString(16)\n    return '#' + str.substring(str.length - 6, str.length)\n}\n\nexport const createFileTree = (\n    dirData: ArticleDirData,\n    options?: {\n        parentPath?: string\n    },\n) => {\n    if (getType(dirData) !== 'object') return []\n\n    const { parentPath = '' } = options ?? {}\n\n    const fileTree: ArticleFileTree[] = []\n\n    for (const [title, value] of Object.entries(dirData)) {\n        const fullPath = parentPath ? `${parentPath}/${title}` : title\n\n        const isObject = getType(value) === 'object'\n\n        if (isObject) {\n            const subTree = createFileTree(value as ArticleDirData, {\n                parentPath: fullPath,\n            })\n            fileTree.push({\n                type: 'directory',\n                title,\n                key: fullPath,\n                path: fullPath,\n                children: subTree,\n            })\n        } else {\n            const path = value as string\n\n            fileTree.push({\n                type: 'file',\n                title,\n                key: path,\n                path: path,\n            })\n        }\n    }\n\n    return fileTree\n}\n\nexport const compressImg = (imgPath: string) => {\n    const img = new Image()\n    const canvas = document.createElement('canvas')\n    const context = canvas.getContext('2d')\n    img.src = imgPath\n    img.onload = function () {\n        // 图片原始尺寸\n        const originWidth = (this as any).width\n        const originHeight = (this as any).height\n        // 最大尺寸限制\n        const maxWidth = 400,\n            maxHeight = 400\n        // 目标尺寸\n        let targetWidth = originWidth,\n            targetHeight = originHeight\n        // 图片尺寸超过400x400的限制\n        if (originWidth > maxWidth || originHeight > maxHeight) {\n            if (originWidth / originHeight > maxWidth / maxHeight) {\n                // 更宽，按照宽度限定尺寸\n                targetWidth = maxWidth\n                targetHeight = Math.round(\n                    maxWidth * (originHeight / originWidth),\n                )\n            } else {\n                targetHeight = maxHeight\n                targetWidth = Math.round(\n                    maxHeight * (originWidth / originHeight),\n                )\n            }\n        }\n\n        // canvas对图片进行缩放\n        canvas.width = targetWidth\n        canvas.height = targetHeight\n        // 清除画布\n        context?.clearRect(0, 0, targetWidth, targetHeight)\n        // 图片压缩\n        context?.drawImage(img, 0, 0, targetWidth, targetHeight)\n    }\n}\n\n/**\n * 延迟执行代码以确保最小延迟时间的函数。\n *\n * @param {number} startTime - 函数执行的开始时间（以毫秒为单位）。\n * @param {number} endTime - 函数执行的结束时间（以毫秒为单位）。\n * @param {number} minDelayTime - 最小延迟时间（以毫秒为单位）。\n * @return {Promise<void>}\n */\nexport async function minDelayTime(\n    startTime = Date.now(),\n    endTime = Date.now(),\n    minDelayTime = 500,\n) {\n    if (endTime - startTime < minDelayTime) {\n        await delay(minDelayTime - (endTime - startTime))\n    }\n\n    return\n}\n\nexport const get404Md = async () => {\n    return request('/article/404.md').then((res) => {\n        const { data, success } = res\n\n        if (!success || !data) {\n            return '# 404'\n        }\n\n        return data as string\n    })\n}\n\n// path => 1_front_end/0_base/JS设计模式/设计模式.md\n// return => [ \"1_front_end\", \"1_front_end/0_base\", \"1_front_end/0_base/JS设计模式\"]\nexport function parseArticlePath(path: string) {\n    // 移除以 / 开始且以 ARTICLE_SUFFIX_NAME 中的项 结尾的部分 (['.md']) => abc/a/xxx.md 保留 abc/a\n    // => 1_front_end/0_base/JS设计模式\n    ARTICLE_SUFFIX_NAME.forEach((suffix) => {\n        if (!suffix) {\n            return\n        }\n\n        const reg = new RegExp(`/[^/]+${suffix}$`)\n        path = path.replace(reg, '')\n    })\n\n    const segments = path.split('/').filter(Boolean)\n\n    const result: string[] = []\n\n    let currentPath = ''\n\n    // 遍历路径, 然后拼接, 最后得出\n    // => [ \"1_front_end\", \"1_front_end/0_base\", \"1_front_end/0_base/JS设计模式\"]\n    for (let i = 0; i < segments.length; i++) {\n        if (i === 0) {\n            currentPath += `${segments[i]}`\n            result.push(currentPath)\n        } else {\n            currentPath += `/${segments[i]}`\n            result.push(currentPath)\n        }\n    }\n\n    return result\n}\n\n// 对数组每一个项进行遍历, 判断是否有一个满足字符串包含数组某项.\nexport function stringIncludesArray(str: string, arr: string[]) {\n    return arr.some((item) => str.includes(item))\n}\n","import log from '@yomua/y-tlog'\n\ntype RequestOptions = {\n    // 添加到 url 后: https://test.com?test=test\n    queryString?: Record<string, string | string[]>\n}\n\ntype RequestOnFulfilled = (config: RequestInit) => RequestInit\ntype RequestOnRejected = (error: Error) => Error\n\ntype ResponseOnFulfilled<V> = (response: Response) => V | Promise<V>\ntype ResponseOnRejected = (error: Error) => Error\n\ntype RequestInterceptors = {\n    request?: {\n        onFulfilled?: RequestOnFulfilled\n        onRejected?: RequestOnRejected\n    }[]\n    response?: {\n        onFulfilled?: ResponseOnFulfilled<any>\n        onRejected?: ResponseOnRejected\n    }[]\n}\n\n// 将拦截器存到全局内存中.\nconst interceptorsMap: RequestInterceptors = {\n    request: [],\n    response: [],\n}\n\n// 拦截器函数\nconst interceptors = {\n    request: {\n        // 添加拦截器到内存中\n        use: function (\n            onFulfilled?: RequestOnFulfilled,\n            onRejected?: RequestOnRejected,\n        ) {\n            interceptorsMap.request?.push({\n                onFulfilled,\n                onRejected,\n            })\n        },\n    },\n    response: {\n        use: function (\n            onFulfilled?: ResponseOnFulfilled<any>,\n            onRejected?: ResponseOnRejected,\n        ) {\n            interceptorsMap.response?.push({\n                onFulfilled,\n                onRejected,\n            })\n        },\n    },\n}\n\nconst checkResponse = (response: Response) => {\n    const { status, statusText } = response\n\n    if (status >= 200 && status < 300) {\n        return response\n    }\n\n    const error = new Error(statusText)\n\n    throw error\n}\n\nconst handleResponse = (response: Response) => {\n    const contentType = response.headers.get('content-type')\n\n    let newResponse: Response | Promise<Response> | null = null\n\n    // 响应拦截 (返回响应之前做一些事情)\n    interceptorsMap.response?.forEach(({ onFulfilled }) => {\n        if (onFulfilled) {\n            newResponse = onFulfilled(response)\n        }\n    })\n\n    if (contentType && contentType.includes('application/json')) {\n        return newResponse ?? response.json()\n    } else {\n        return newResponse ?? response.text()\n    }\n}\n\nconst handleResult = <R>(result: R) => {\n    return {\n        error: null,\n        data: result,\n        success: true,\n    }\n}\n\nconst handleError = (error: Error) => {\n    log.error('Request Error: ', error as any)\n\n    interceptorsMap.response?.forEach(({ onRejected }) => {\n        if (onRejected) {\n            onRejected(error)\n        }\n    })\n\n    throw error\n}\n\nasync function request<Result = any>(\n    url: string,\n    params?: RequestInit & RequestOptions,\n): Promise<{\n    data: Result\n    success: boolean\n    error: Error | null\n}> {\n    const { queryString, ...reset } = params ?? {}\n\n    const headers: Record<string, string> = {\n        Accept: '*/*',\n        ...((params?.headers as Record<string, string>) ?? {}),\n    }\n\n    // queryString: ?a=1&a=2&b=3\n    if (queryString) {\n        url += `?${Object.keys(queryString)\n            .map((key) => {\n                const value = queryString[key]\n                // 如果是数组, 则返回 => a=1&a=2\n                if (Array.isArray(value)) {\n                    let result = ''\n                    value.forEach((item) => {\n                        result += `${key}=${item}&`\n                    })\n\n                    // 删除最后个 &\n                    return result.replace(/&$/, '')\n                }\n\n                return `${key}=${value}`\n            })\n            .join('&')}`\n    }\n\n    let options: RequestInit = {\n        ...reset,\n        headers,\n    }\n\n    // 调用请求拦截\n    interceptorsMap.request?.forEach(async ({ onFulfilled, onRejected }) => {\n        if (onFulfilled) {\n            options = onFulfilled(options)\n        }\n    })\n\n    return fetch(url, options)\n        .then(checkResponse)\n        .then(handleResponse)\n        .then(handleResult)\n        .catch(handleError)\n}\n\nrequest.interceptors = interceptors\n\nexport default request\n"],"sourceRoot":""}