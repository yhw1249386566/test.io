# [逗号运算符](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Comma_Operator)

## 描述

逗号运算符也可以被称之为逗号操作符,名字并不重要,关键是功能,这里提一下只是可能担心有些人会认为这两者不是一个东西,从而误会些什么.

逗号运算符会对它的每个操作数从左到右进行求值,并返回最后一个(最右边的)操作数的值.

注意：逗号运算符需要使用圆括号等将之括起来，并且需要存于一个表达式中。

## 语法

`expression1,` `expression2,...`

let result = (`expression1,` `expression2,...expression-n`) 

=> result变量最后会等于expression-n

以上的expression可以是任意一个表达式.

## 使用说明

逗号运算符无处不在,只是你以前可能没留意到.

当你想要在期望一个表达式的位置包含多个表达式时，可以使用逗号运算符.

逗号运算符最常用的一种情况:for循环中提供多个参数.

## 示例

### 用在一个简单的表达式中

```js
    let result = 0, x = 2;
    result = (x++ , x++ , x); // 3,4,4,所以预期结果应该为:4
    console.log(result); // 实际结果: 4
```

### 用在一个类的constructor方法的返回值中

您可以使用逗号操作符在函数准备返回值前处理一些操作。如同下面的代码:

```js
    class demo {
        x = 1;
        constructor() {
            if(new.target === undefined) return;
            return (this.x++ , this.x)
        }
    }
    let result = new demo();
    console.log(result); // {x: 2}
```

如果你并没有学过有关class的知识,***请参见:<class.md>***

这里之所以返回的结果是一个对象,是因为:

- x=1 如同this.x=1, 也就如同 result.x = 1;

  即相当于为result对象创建了一个x属性,其值为1,而我们return的也是this.x,即return result对象

  那么理所当然的,返回值肯定是一个对象.

通过以上示例,我们可以发现,逗号操作符也可以用于某个函数的返回值中(类也是函数)

### 用在一个正统的函数返回值中

如同下面的代码，只有最后一个表达式被返回，其他的都只是被求值:

```js
function myFunc () {
  var x = 0;
  return (x += 1, x); // the same of return ++x;
}
console.log(myFunc()); // 1
```

### 用在for循环中

假设 a 是一个二维数组，每一维度包含10个元素，则下面的代码使用逗号操作符依次递增/递减两个变量。

需要注意的是:var 语句中的逗号***不是***逗号操作符，因为它不是存在于一个表达式中。

尽管从实际效果来看，那个逗号同逗号运算符的表现很相似.但确切地说，它是 var 语句中的一个特殊符号，用于把多个变量声明结合成一个。

----



首先如果要创建一个二维数组,需要知道的是:JS不能如同Java那样直接创建二维数组: `String[][] arr = new String[10][10]`=>创建一个十行十列字符串类型的二维数组.

所以我们需要使用其他方法,即: 先创建1个一维数组,然后将这个一维数组中的每个项都设置成一个数组, 这样就相当于存在 x行y列的二维数组了.J

- x行: 原来的一维数组的长度.
- y列: 原来的一维数组中每个项(数组)的长度

如: `let tda = [[0, 1, 2], ['甲', '乙', '丙'], ['我', '爱', '你'],];` 这个代表:3行3列的二维数组,其中a[1,2] === '丙'

---

知道如何创建二维数组了吧,现在让我们来看这个示例:

```js
var myarr = []; //先声明一维
for (let i = 0; i < 10; i++) { //一维长度为10
	myarr[i] = []; //再声明二维;即一维数组中的每个项都是一个数组.
	for (var j = 0; j < 10; j++) { //二维长度为10
		myarr[i][j] = i + j // 赋值，每个二维数组元素的值为i+j
	}
}
for (var i = 0, j = 9; i <= 9; i++ , j--)
console.log(`myarr[${i}][${j}] = ${myarr[i][j]}`);
```

再强调一遍:for 循环中的 var 语句中的逗号***不是***逗号操作符，因为它不是存在于一个表达式中*(尽管var这个语句是个声明表达式,但是它里面的逗号有自己的作用)*,尽管从实际效果来看，那个逗号同逗号运算符的表现很相似.

但确切地说，它是 **var 语句中的一个特殊符号，用于把多个变量声明结合成一个**,而i++和j--之间的逗号才是逗号运算符,因为它们两个是一个表达式,且不像var语句这个表达式那样,逗号有着自己的意思.

