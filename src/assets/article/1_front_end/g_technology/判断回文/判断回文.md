```js
const str = 'a,bc  ,,  ba,,,,,'

function getHuiwen(str) {
    let left = 0,
        right = str.length - 1

    function isValidValue(v) {
        // 两种方式都可以判断是不是有效字符
        if (
            (v >= 'a' && v <= 'z') ||
            (v >= 'A' && v <= 'Z') ||
            (v >= '0' && v <= '9')
        ) {
            return true
        }
        // if ((v?.codePointAt() >= 49 && v?.codePointAt() <= 57) || (v?.codePointAt() >= 97 && v?.codePointAt() <= 122) || (v?.codePointAt() >= 65 && v?.codePointAt() <= 90)) {
        //     return true
        // }

        return false
    }

    while (left <= right) {
        const l = str[left]
        const r = str[right]

        if (!isValidValue(l)) {
            left++
            continue
        }

        if (!isValidValue(r)) {
            right--
            continue
        }

        if (l !== r) {
            return false
        }

        // 最后再++，否则如果是先++，left 和 right 得不到第一个或最后一个的值
        left++
        right--
    }

    return true
}

console.log(getHuiwen(str)) // true
```

- 这个解法的思想就是使用“双指针”思想，

  左指针从左到右，右指针从右到左，它们同时开始移动，每移动一次，判断是不是有效值：

  - 如果是有效值，判断值是否相等，相等就继续下移，不相等就直接返回 false，不是回文。
  - 如果不是有效值，把对应的指针继续移动到下一位再判断。

  参见：[bilibili](https://www.bilibili.com/video/BV1Gc411F78E/) 