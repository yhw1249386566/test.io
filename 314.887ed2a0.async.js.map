{"version":3,"sources":["webpack:///./src/base_component/direction/index.less","webpack:///./src/base_component/text/index.less","webpack:///./src/component/card/index.less","webpack:///./src/component/markdown/index.less","webpack:///./src/component/sidebar/index.less","webpack:///./packages/y-hooks/src/useWindowEventListener/index.ts","webpack:///./packages/y-screw/get-type.ts","webpack:///./packages/y-screw/debounce.ts","webpack:///./packages/y-screw/memoize-fn.ts","webpack:///./packages/y-screw/url-change.ts","webpack:///./src/base_component/text/index.tsx","webpack:///./src/base_component/direction/index.tsx","webpack:///./src/component/card/index.tsx","webpack:///./src/component/sidebar/index.tsx","webpack:///./src/component/markdown/index.tsx","webpack:///./src/contexts/theme.tsx","webpack:///./src/hooks/use_theme.ts","webpack:///./src/utils/constant.ts","webpack:///./src/utils/index.ts","webpack:///./src/utils/log.ts","webpack:///./src/utils/request.ts"],"names":["module","exports","DEFAULT_OPTIONS","delay","useWindowEventListener","eventName","listenCallback","effect","options","isRefreshItself","useEffect","window","addEventListener","debounce","removeEventListener","getType","data","type","Object","prototype","toString","call","replace","r","toLowerCase","preventRefreshItselfTimer","fn","option","timer","preventRefreshItself","rest","clearTimeout","setTimeout","apply","hashString","inputString","hash","crypto","update","digest","cache","Map","memoizeFn","Error","resolver","context","key","has","set","get","url","go","state","history","replaceState","popStateEvent","PopStateEvent","dispatchEvent","Text","props","className","otherProps","theme","useTheme","textClassName","classnames","style","children","memo","Direction","mode","alignItems","justifyContent","gap","undefined","CustomCard","console","log","img","previewImg","time","description","title","author","tag","lastUpdateTime","cardProps","useState","visible","setVisible","handleClickImage","useCallback","event","stopPropagation","bordered","hoverable","src","preview","onClick","icon","maxHeight","map","index","name","color","invertColor","marginRight","maskClosable","onVisibleChange","vis","Sidebar","isShowSidebar","setIsShowSidebar","prevScrollPosition","useRef","document","documentElement","scrollTop","handleTop","preventDefault","currentLocation","slider","scrollTo","SCROLL_SPEED","isNaN","sub","message","requestAnimationFrame","target","Document","isDownScroll","current","Markdown","remarkPlugins","remarkGfm","rehypePlugins","rehypeRaw","ThemeContext","createContext","ThemeProvider","Provider","value","useContext","CONVERT_TYPE_MAP","string","number","Number","boolean","null","bigInt","BigInt","symbol","Symbol","object","JSON","parse","error","array","function","eval","currentWorkingDir","process","cwd","ENV_KEY","Dotenv","path","getEnvValue","envKey","returnType","converter","RouteName","RouteLink","LOCAL_STORAGE_NAME","EVENT_EMITTER_NAME","ARTICLE_SUFFIX_NAME","ARTICLE_DIR","ARTICLE_PICtURE","WRITE_ARTICLE_DIR","Promise","resolve","colorValue","str","substring","length","createFileTree","dirData","parentPath","fileTree","entries","fullPath","isObject","subTree","push","minDelayTime","startTime","Date","now","endTime","get404Md","request","then","res","success","LOG_COLOR_MAP","info","logo","trace","logoGroup","group","forEach","item","groupEnd","interceptorsMap","response","interceptors","use","onFulfilled","onRejected","checkResponse","status","statusText","handleResponse","contentType","headers","newResponse","includes","json","text","handleResult","result","handleError","params","queryString","reset","Accept","keys","Array","isArray","join","fetch","catch"],"mappings":"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","file":"314.887ed2a0.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"row___1UdcL\",\"column\":\"column___3S6qx\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___2PnqU\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___20OLN\",\"textOverflowEllipsis\":\"textOverflowEllipsis___1u-a9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"text___eH7ih\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___15Z7m\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___1RylG\",\"textOverflowEllipsis\":\"textOverflowEllipsis___eiNMl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card-light\":\"card-light___wL7zL\",\"card-dark\":\"card-dark___33apU\",\"card\":\"card___1Aqfk\",\"image\":\"image___3g604\",\"content\":\"content___3lENv\",\"title\":\"title___2Bzk-\",\"description\":\"description___2ORSX\",\"info\":\"info___2_m7q\",\"author\":\"author___2emhg\",\"time\":\"time___YsVpW\",\"tags\":\"tags___hmLww\",\"tag\":\"tag____Lyfk\",\"preview\":\"preview___1DC83\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___1MBBn\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___shsM8\",\"textOverflowEllipsis\":\"textOverflowEllipsis___2KB4g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"markdown\":\"markdown___3CFfF\",\"markdownBodyBox\":\"markdownBodyBox___2SJQO\",\"markdownBody\":\"markdownBody___1GIBf\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___3vgbL\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___2qoug\",\"textOverflowEllipsis\":\"textOverflowEllipsis___3lTmH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar-light\":\"sidebar-light___ctrWB\",\"sidebar-dark\":\"sidebar-dark___1CwDu\",\"sidebar\":\"sidebar___2Jc5u\",\"sidebarHide\":\"sidebarHide___2pkhV\",\"goTop\":\"goTop___2L6MT\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___nCEGx\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___2BFqe\",\"textOverflowEllipsis\":\"textOverflowEllipsis___XwSfv\"};","import React, { useEffect } from 'react'\nimport { debounce } from '~/packages/y-screw'\n\nimport { Options } from './index.d'\n\nconst DEFAULT_OPTIONS = {\n    delay: 0,\n}\n\n// 此 hook 的监听器将被防抖\nexport default function useWindowEventListener(\n    eventName: string,\n    listenCallback: EventListenerOrEventListenerObject,\n    effect?: React.DependencyList,\n    options: Options = DEFAULT_OPTIONS,\n) {\n    if (!eventName) {\n        return\n    }\n\n    const { delay = 0, isRefreshItself = false } = options\n\n    useEffect(() => {\n        window.addEventListener(\n            eventName,\n            debounce(listenCallback, delay, { isRefreshItself }),\n        )\n\n        return () => {\n            window.removeEventListener(\n                eventName,\n                debounce(listenCallback, delay, { isRefreshItself }),\n            )\n        }\n    }, effect)\n}\n","export type JSValueType =\n    | 'string'\n    | 'number'\n    | 'boolean'\n    | 'null'\n    | 'undefined'\n    | 'bigInt'\n    | 'symbol'\n    | 'object'\n    | 'array'\n    | 'function'\n\nexport default function getType<T>(data: T):\n    | 'string' // 这样写类型, 能直接使用时看到\n    | 'number'\n    | 'boolean'\n    | 'null'\n    | 'undefined'\n    | 'bigInt'\n    | 'symbol'\n    | 'object'\n    | 'array'\n    | 'function' {\n    const type = Object.prototype.toString\n        .call(data)\n        .replace(/\\[?\\]?/g, '') // 'object String'\n        .replace('object ', '') // String\n        .replace(/\\w/, (r) => r.toLowerCase()) as JSValueType // string\n\n    return type\n}\n","/** 将 timer 写在外面的好处:\n * 当 debounce 被反复刷新时，仍可以保证 fn 能被防抖\n * 即：如果 debounce 函数写在 React 组件内部，当 React 组件刷新时，可能会重新执行 debounce 函数，\n * 此时如果没有做 [防止重复刷新] 操作，则 fn 将不会被防抖，因为此时相当于重新创建了一个作用域，生成了新的 setTimeout 和新的 fn,\n * 它们和之前的 setTimeout, fn 没有关联。\n */\nlet preventRefreshItselfTimer: NodeJS.Timeout\n\nexport default <T = () => void>(\n    fn: T,\n    delay: number,\n    option?: {\n        isRefreshItself?: boolean\n    },\n) => {\n    const { isRefreshItself = false } = option ?? {}\n\n    let timer: NodeJS.Timeout\n\n    function preventRefreshItself(...rest) {\n        if (preventRefreshItselfTimer) {\n            clearTimeout(preventRefreshItselfTimer)\n        }\n\n        preventRefreshItselfTimer = setTimeout(() => {\n            if (typeof fn === 'function') {\n                // 使用 fn 作为 this\n                fn.apply(fn, rest)\n            }\n        }, delay)\n    }\n\n    if (isRefreshItself) {\n        return preventRefreshItself\n    }\n\n    return function (...rest) {\n        if (timer) {\n            clearTimeout(timer)\n        }\n\n        timer = setTimeout(() => {\n            if (typeof fn === 'function') {\n                fn.apply(fn, rest)\n            }\n        }, delay)\n    }\n}\n","import crypto from 'crypto'\n\nfunction hashString(inputString: string) {\n    const hash = crypto.createHash('sha256')\n    hash.update(inputString)\n    return hash.digest('hex')\n}\n\ninterface Fn {\n    (...args: any[]): void\n    cache?: Map<any, Fn> // 静态属性\n}\n\ntype Options = {\n    // 一个持久化上下文, 即: cache, 存放要被缓存的函数\n    context?: Map<any, (...rest: any[]) => any>\n    // map 的 key: 可以是任何值(包括函数、对象或任何原始值)\n    resolver?: unknown\n}\n\n// 只能在全局或某个持久上下文声明 cache\n// 不能 fn.cache = fn.cache || new Map()\n// 这是因为: 声明一个 fn, 然后在不同模块 memo(fn), 每一个 fn 虽然引用一个 fn, 但每个 fn 指向的内存地址不同, 即: 它们并不会是同一个.\n// =>模块的实现原理是类似闭包的原理, 模块和模块之间是将会有不同的作用域;\n// => Ref: https://www.webpackjs.com/concepts/modules/ ; https://juejin.cn/post/6844904159385239566#heading-7\n// 另外一个例子: 在 React 组件中使用 memoizeFn(fn), 当组件刷新时, fn 是指向不同的内存地址空间的\n// => 这是由于组件相当于一个函数, 它被重新执行了一遍, 里面的未被缓存状态就会刷新.\n// => 所以现在如果将 cache 挂载到 fn 上, 由于永远会返回新的 fn, 所以 memo 就没效果.\nconst cache = new Map()\n\nexport default function memoizeFn(fn: Fn, options?: Options) {\n    if (typeof fn !== 'function') {\n        throw new Error('fn must be a function')\n    }\n\n    const { resolver, context } = options ?? {}\n\n    if (context && !(context instanceof Map)) {\n        throw new Error('context must be a Map')\n    }\n\n    fn.cache = context ?? cache\n\n    const key = resolver || hashString(fn.toString())\n\n    if (!fn.cache.has(key)) {\n        fn.cache.set(key, fn)\n    }\n\n    return fn.cache.get(key) as Fn\n}\n","// 更新页面 URL 地址, 并在需要时触发 'popstate' 事件。\nexport default function (\n    url: string,\n    options?: {\n        state?: any // 当使用者监听 popstate 时，要传给 event.state 的数据\n        go?: boolean // 修改 url 时是否直接跳转过去\n    },\n) {\n    const { go = false, state = null } = options ?? {}\n\n    window.history.replaceState(null, '', url)\n\n    if (go) {\n        const popStateEvent = new PopStateEvent('popstate', { state })\n\n        window.dispatchEvent(popStateEvent)\n    }\n}\n","import React, { memo } from 'react'\nimport classnames from '@yomua/y-classnames'\n\nimport { useTheme } from '@/hooks'\n\nimport style from './index.less'\n\ntype Text = React.ClassAttributes<HTMLDivElement> &\n    React.HTMLAttributes<HTMLDivElement>\n\ninterface TextProps extends Text {\n    children?: React.ReactNode\n    className?: string\n}\n\nconst Text = (props: TextProps) => {\n    const { className = '', ...otherProps } = props\n\n    const theme = useTheme()\n\n    const textClassName = classnames(style.text, className, {\n        [style[`text-${theme}`]]: theme,\n    })\n\n    return (\n        <div className={textClassName} {...otherProps}>\n            {props.children}\n        </div>\n    )\n}\n\nexport default memo(Text)\n","import React, { memo } from 'react'\nimport classnames from '@yomua/y-classnames'\n\nimport style from './index.less'\n\ntype Div = React.ClassAttributes<HTMLDivElement> &\n    React.HTMLAttributes<HTMLDivElement>\n\ninterface DirectionProps extends Div {\n    gap?: number\n    className?: string\n    mode?: 'row' | 'column'\n    children?: React.ReactNode\n    alignItems?: 'center' | 'space-between'\n    justifyContent?: 'center' | 'space-between'\n}\n\nconst Direction = (props: DirectionProps) => {\n    const {\n        children,\n        mode = 'row',\n        className = '',\n        alignItems,\n        justifyContent,\n        gap,\n        ...otherProps\n    } = props\n\n    return (\n        <div\n            className={classnames(style[mode], className)}\n            style={{\n                justifyContent,\n                alignItems,\n                gap: gap ? `${gap}px` : undefined,\n            }}\n            {...otherProps}\n        >\n            {children}\n        </div>\n    )\n}\n\nexport default memo(Direction)\n","import { memo, useState, useCallback } from 'react'\nimport classnames from '@yomua/y-classnames'\nimport { Tag, Card, Image, CardProps } from 'antd'\nimport { Scrollbars } from 'react-custom-scrollbars-2'\nimport { IconProp } from '@fortawesome/fontawesome-svg-core'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport { useTheme } from '@/hooks'\nimport { invertColor } from '@/utils'\n\nimport { Text } from '@/base_component'\n\nimport style from './index.less'\n\ninterface CustomProps extends CardProps {\n    img?: string\n    time?: string\n    title?: string\n    author?: string\n    previewImg?: string\n    description?: string\n    lastUpdateTime?: string\n    tag?: {\n        name: string\n        key?: string\n        color?: string\n        icon?: IconProp\n    }[]\n}\n\nconst CustomCard = (props: CustomProps) => {\n    console.log('__card')\n\n    const {\n        img,\n        previewImg,\n        time,\n        description,\n        title,\n        author,\n        className,\n        tag = [],\n        lastUpdateTime,\n        ...cardProps\n    } = props\n\n    const [visible, setVisible] = useState(false)\n\n    const theme = useTheme()\n\n    const handleClickImage = useCallback(\n        (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n            setVisible(true)\n            event.stopPropagation()\n        },\n        [],\n    )\n\n    return (\n        <div className={style.cardBox}>\n            <Card\n                bordered\n                hoverable\n                className={classnames(\n                    style.card,\n                    style[`card-${theme}`],\n                    className,\n                )}\n                {...cardProps}>\n                <Image\n                    src={img}\n                    className={style.image}\n                    preview={{ visible: false }}\n                    onClick={handleClickImage}\n                />\n\n                <div className={style.content}>\n                    <Text className={style.title}>{title}</Text>\n\n                    <Text className={style.description}>{description}</Text>\n\n                    <div className={style.info}>\n                        <div>\n                            <FontAwesomeIcon\n                                icon='user'\n                                className={style.author}\n                            />\n                            <Text>{author}</Text>\n                        </div>\n                        <div>\n                            <FontAwesomeIcon\n                                icon='clock'\n                                className={style.time}\n                            />\n                            <Text>{time}</Text>\n                        </div>\n                    </div>\n\n                    {lastUpdateTime && (\n                        <div className={style.info}>\n                            <div>\n                                <FontAwesomeIcon icon='clock' />\n                                <Text>最后更新时间: </Text>\n                            </div>\n                            <div>\n                                <Text>{lastUpdateTime}</Text>\n                            </div>\n                        </div>\n                    )}\n\n                    <Scrollbars style={{ maxHeight: 55 }}>\n                        <div className={style.tags}>\n                            {tag.map((tag, index) => {\n                                const { name, key, icon, color } = tag\n\n                                return (\n                                    <Tag\n                                        className={style.tag}\n                                        key={key ?? index}\n                                        color={\n                                            theme === 'light'\n                                                ? color\n                                                : invertColor(\n                                                      color ?? '#55acee',\n                                                  )\n                                        }\n                                        icon={\n                                            icon ? (\n                                                <FontAwesomeIcon\n                                                    icon={icon}\n                                                    style={{\n                                                        marginRight: '5px',\n                                                    }}\n                                                />\n                                            ) : null\n                                        }>\n                                        {name}\n                                    </Tag>\n                                )\n                            })}\n                        </div>\n                    </Scrollbars>\n                </div>\n            </Card>\n\n            <div className={style.preview}>\n                <Image.PreviewGroup\n                    preview={{\n                        visible,\n                        maskClosable: false,\n                        onVisibleChange: (vis) => setVisible(vis),\n                    }}>\n                    <Image src={previewImg} />\n                </Image.PreviewGroup>\n            </div>\n        </div>\n    )\n}\n\nexport default memo(CustomCard)\n","import { memo, useCallback, useState, useRef } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { getType } from '~/packages/y-screw'\nimport classnames from '@yomua/y-classnames'\nimport { useWindowEventListener } from '~/packages/y-hooks'\n\nimport log from '@/utils/log'\nimport { useTheme } from '@/hooks'\nimport { SCROLL_SPEED } from '@/utils/constant'\n\nimport style from './index.less'\n\nfunction Sidebar() {\n    const [isShowSidebar, setIsShowSidebar] = useState(false)\n\n    const theme = useTheme()\n\n    const prevScrollPosition = useRef(document.documentElement.scrollTop)\n\n    const handleTop: React.MouseEventHandler<SVGSVGElement> = useCallback(\n        (event) => {\n            event.preventDefault()\n\n            let currentLocation = document.documentElement.scrollTop\n\n            function slider() {\n                if (currentLocation < 0) {\n                    window.scrollTo(0, 0)\n                    return\n                }\n\n                if (getType(SCROLL_SPEED) !== 'number' || isNaN(SCROLL_SPEED)) {\n                    log.group('SCROLL_SPEED ERROR', {\n                        sub: [\n                            { type: 'info', message: SCROLL_SPEED },\n                            { type: 'trace', message: 'trace' },\n                        ],\n                    })\n                    window.scrollTo(0, 0)\n                    return\n                }\n\n                currentLocation -= SCROLL_SPEED\n                window.scrollTo(0, currentLocation)\n                window.requestAnimationFrame(slider)\n            }\n\n            slider()\n        },\n        [],\n    )\n\n    useWindowEventListener(\n        'scroll',\n        (event) => {\n            if (!(event.target instanceof Document)) {\n                return\n            }\n\n            const { scrollTop = 0 } = event?.target?.documentElement ?? {\n                scrollTop: 0,\n            }\n\n            // 往下滚动\n            const isDownScroll = scrollTop > prevScrollPosition.current\n\n            if (scrollTop === 0 || isDownScroll) {\n                setIsShowSidebar(false)\n                prevScrollPosition.current = scrollTop\n                return\n            }\n\n            // 此处相当于往上滚动, 则显示 sidebar\n            prevScrollPosition.current = scrollTop\n            setIsShowSidebar(true)\n        },\n        [],\n        { delay: 100 },\n    )\n\n    return (\n        <div\n            className={classnames(style.sidebar, style[`sidebar-${theme}`], {\n                [style.sidebarHide]: !isShowSidebar,\n            })}\n        >\n            <FontAwesomeIcon\n                icon='circle-chevron-up'\n                className={style.goTop}\n                onClick={handleTop}\n            />\n        </div>\n    )\n}\n\nexport default memo(Sidebar)\n","/* eslint-disable react/no-children-prop */\nimport { memo } from 'react'\nimport 'github-markdown-css'\nimport remarkGfm from 'remark-gfm'\nimport rehypeRaw from 'rehype-raw'\nimport ReactMarkdown from 'react-markdown'\nimport classnames from '@yomua/y-classnames'\n\nimport { useTheme } from '@/hooks'\n\nimport './index.less'\nimport './markdown.css'\nimport style from './index.less'\n\ntype MarkdownProps = {\n    children: React.ReactNode | string\n    className?: string\n}\n\nconst Markdown = (props: MarkdownProps) => {\n    const { className = '', children } = props\n    const theme = useTheme()\n\n    return (\n        <div\n            className={classnames(\n                style.markdown,\n                style.increaseWeight,\n                {\n                    [`markdown-${theme}`]: theme,\n                },\n                className,\n            )}>\n            <div\n                className={classnames(\n                    'markdown-body-box',\n                    style.markdownBodyBox,\n                )}>\n                <ReactMarkdown\n                    // markdown-body 是导入 github-markdown-css\n                    className={classnames('markdown-body', style.markdownBody)}\n                    children={children as string}\n                    // 即使手动引入了 markdown.css 这两个也有用, 至少表格相关的样式需要。\n                    remarkPlugins={[remarkGfm]}\n                    // 这个不会影响到表格样式，但可能会影响其他样式，所以保留\n                    rehypePlugins={[rehypeRaw]}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default memo(Markdown)\n","import React, { createContext } from 'react'\n\ninterface ThemeProviderProps {\n    theme: Theme\n    children: React.ReactNode\n}\n\nexport const ThemeContext = createContext('light')\n\nconst ThemeProvider = (props: ThemeProviderProps) => {\n    const { theme } = props\n\n    return (\n        <ThemeContext.Provider value={theme}>\n            {props.children}\n        </ThemeContext.Provider>\n    )\n}\n\nexport default ThemeProvider\n","import { useContext } from 'react'\n\nimport { ThemeContext } from '@/contexts'\n\nexport default function useTheme() {\n    return useContext(ThemeContext) as Theme\n}\n","import path from 'path'\nimport Dotenv from 'dotenv'\n\nimport log from './log'\nimport { EnvValueType, JSValueType } from './utils.d'\n\nexport const CONVERT_TYPE_MAP: Record<\n    JSValueType,\n    (value: string) => EnvValueType<JSValueType>\n> = {\n    string: (value) => value,\n    number: (value) => Number(value),\n    boolean: (value) => value.toLowerCase() === 'true',\n    null: () => null,\n    undefined: () => undefined,\n    bigInt: (value) => BigInt(value),\n    symbol: (value) => Symbol(value),\n    object: (value) => {\n        try {\n            return JSON.parse(value)\n        } catch (error) {\n            log.group('JSON.parse 失败', {\n                sub: [\n                    { type: 'error', message: error },\n                    {\n                        type: 'log',\n                        message: `要解析的值为: ${\n                            value === '' ? '空字符串' : value\n                        }`,\n                    },\n                ],\n            })\n            return null\n        }\n    },\n    array: (value) => {\n        try {\n            return JSON.parse(value)\n        } catch (error) {\n            log.group('JSON.parse 失败', {\n                sub: [\n                    { type: 'error', message: error },\n                    {\n                        type: 'log',\n                        message: `要解析的值为: ${\n                            value === '' ? '空字符串' : value\n                        }`,\n                    },\n                ],\n            })\n\n            return null\n        }\n    },\n    function: (value) => eval(`(${value})`),\n}\n\n// 这里的目的是因为: constants 存在打包之前就需要的 process.env 中的变量\n// 所以需要在这里提前注入环境变量\nconst currentWorkingDir = process.cwd()\nDotenv.config({ path: path.join(currentWorkingDir, '.env') })\n\n/** 以下不需要导出，用在此文件 */\n\nenum ENV_KEY {\n    SCROLL_SPEED = 'SCROLL_SPEED',\n    ARTICLE_DIR = 'ARTICLE_DIR',\n    WRITE_ARTICLE_DIR = 'WRITE_ARTICLE_DIR',\n    ARTICLE_PICtURE = 'ARTICLE_PICtURE',\n    ARTICLE_SUFFIX_NAME = 'ARTICLE_SUFFIX_NAME',\n}\n\nconst getEnvValue = <ReturnType extends JSValueType = 'string'>(\n    envKey: ENV_KEY,\n    options?: {\n        returnType?: ReturnType\n    },\n): EnvValueType<ReturnType> => {\n    if (envKey === undefined || envKey === null) {\n        return null as EnvValueType<ReturnType>\n    }\n\n    const { returnType = 'string' } = options ?? {}\n\n    const converter = CONVERT_TYPE_MAP[returnType]\n\n    if (!converter) {\n        throw new Error('类型不存在')\n    }\n\n    return converter(process.env[envKey] ?? '') as EnvValueType<ReturnType>\n}\n\n/** 以上不需要导出，用在此文件 */\n\nexport enum RouteName {\n    Index = '首页',\n    Type = '分类',\n    Mood = '心情',\n    About = '关于',\n}\n\nexport enum RouteLink {\n    Index = 'index',\n    Type = 'type',\n    Mood = 'mood',\n    About = 'about',\n}\n\nexport enum LOCAL_STORAGE_NAME {\n    SELECTED_ARTICLE_KEY = 'selectedArticleKey',\n    ARTICLE_FILE_PATH = 'activeFilePath',\n    ARTICLE_TREE_EXPANDED_KEYS = 'articleTreeExpandedKeys',\n    DATA_THEME = 'data-theme',\n    GPT3_CHAT_INFORMATION = 'gpt3_chat_information',\n}\n\n// 所有自定义事件名\nexport enum EVENT_EMITTER_NAME {\n    // 只有当视区内只显示文章时，此事件才会被监听和触发。\n    OPEN_ARTICLE_DIRECTORY = 'openArticleDirectoryOnlyArticle',\n    SHOW_HEADER_X = 'showHeaderX',\n}\n\n/************************* 以下都是 .env 中的变量值 *************************/\n\nexport const SCROLL_SPEED = getEnvValue(ENV_KEY.SCROLL_SPEED, {\n    returnType: 'number',\n})\n\n/** 以下变量即用于打包之前, 也用于打包后的运行时 */\n\nexport const ARTICLE_SUFFIX_NAME = getEnvValue(ENV_KEY.ARTICLE_SUFFIX_NAME)\n\n/** 以上变量即用于打包之前, 也用于打包后的运行时 */\n\n/** 以下变量用于打包之前的准备 */\n\nexport const ARTICLE_DIR = getEnvValue(ENV_KEY.ARTICLE_DIR)\n\nexport const ARTICLE_PICtURE = getEnvValue(ENV_KEY.ARTICLE_PICtURE)\n\nexport const WRITE_ARTICLE_DIR = getEnvValue(ENV_KEY.WRITE_ARTICLE_DIR)\n\n/** 以上变量用于打包之前的准备 */\n\n/************************* 以上都是 .env 中的变量值 *************************/\n","/* eslint-disable no-use-before-define */\n\nimport { getType } from '~/packages/y-screw'\n\nimport request from './request'\n\n/** start --- 不需要导出 --- start */\ntype DirData = {\n    [fileName: string]: string | DirData\n}\n/** end --- 不需要导出 --- end */\n\nexport const delay = async (time: number) =>\n    new Promise((resolve) => setTimeout(resolve, time))\n\nexport const invertColor = (color: string) => {\n    const colorValue: any = '0x' + color.replace(/#/g, '')\n    const str = '000000' + (0xffffff - colorValue).toString(16)\n    return '#' + str.substring(str.length - 6, str.length)\n}\n\nexport const createFileTree = (\n    dirData: DirData,\n    options?: {\n        parentPath?: string\n    },\n) => {\n    if (getType(dirData) !== 'object') return []\n\n    const { parentPath = '' } = options ?? {}\n\n    type FileTree = {\n        type: 'file' | 'directory'\n        title: string\n        path: string\n        key: string\n        children?: FileTree[] // when directory\n    }\n\n    const fileTree: FileTree[] = []\n\n    for (const [title, value] of Object.entries(dirData)) {\n        const fullPath = parentPath ? `${parentPath}/${title}` : title\n\n        const isObject = getType(value) === 'object'\n\n        if (isObject) {\n            const subTree = createFileTree(value as DirData, {\n                parentPath: fullPath,\n            })\n            fileTree.push({\n                type: 'directory',\n                title,\n                key: fullPath,\n                path: fullPath,\n                children: subTree,\n            })\n        } else {\n            const path = value as string\n\n            fileTree.push({\n                type: 'file',\n                title,\n                key: path,\n                path: path,\n            })\n        }\n    }\n\n    return fileTree\n}\n\nexport const compressImg = (imgPath: string) => {\n    const img = new Image()\n    const canvas = document.createElement('canvas')\n    const context = canvas.getContext('2d')\n    img.src = imgPath\n    img.onload = function () {\n        // 图片原始尺寸\n        const originWidth = (this as any).width\n        const originHeight = (this as any).height\n        // 最大尺寸限制\n        const maxWidth = 400,\n            maxHeight = 400\n        // 目标尺寸\n        let targetWidth = originWidth,\n            targetHeight = originHeight\n        // 图片尺寸超过400x400的限制\n        if (originWidth > maxWidth || originHeight > maxHeight) {\n            if (originWidth / originHeight > maxWidth / maxHeight) {\n                // 更宽，按照宽度限定尺寸\n                targetWidth = maxWidth\n                targetHeight = Math.round(\n                    maxWidth * (originHeight / originWidth),\n                )\n            } else {\n                targetHeight = maxHeight\n                targetWidth = Math.round(\n                    maxHeight * (originWidth / originHeight),\n                )\n            }\n        }\n\n        // canvas对图片进行缩放\n        canvas.width = targetWidth\n        canvas.height = targetHeight\n        // 清除画布\n        context?.clearRect(0, 0, targetWidth, targetHeight)\n        // 图片压缩\n        context?.drawImage(img, 0, 0, targetWidth, targetHeight)\n    }\n}\n\n/**\n * 延迟执行代码以确保最小延迟时间的函数。\n *\n * @param {number} startTime - 函数执行的开始时间（以毫秒为单位）。\n * @param {number} endTime - 函数执行的结束时间（以毫秒为单位）。\n * @param {number} minDelayTime - 最小延迟时间（以毫秒为单位）。\n * @return {Promise<void>}\n */\nexport async function minDelayTime(\n    startTime = Date.now(),\n    endTime = Date.now(),\n    minDelayTime = 500,\n) {\n    if (endTime - startTime < minDelayTime) {\n        await delay(minDelayTime - (endTime - startTime))\n    }\n\n    return\n}\n\nexport const get404Md = async () => {\n    return request('/article/404.md').then((res) => {\n        const { data, success } = res\n\n        if (!success || !data) {\n            return '# 404'\n        }\n\n        return data as string\n    })\n}\n","const LOG_COLOR_MAP = {\n    error: 'color: #fff; background-color: #f00',\n    info: 'color: #fff; background-color: #00f',\n    logo: 'color: #fff; background-color: #000',\n    trace: 'color: #000; background-color: #fff',\n}\n\nconst logoGroup = (\n    title: string,\n    options: {\n        sub: {\n            type: 'error' | 'info' | 'log' | 'trace'\n            message: string | Error | unknown\n        }[]\n    },\n) => {\n    const { sub = [] } = options ?? {}\n\n    console.group(`%c${title}`, 'color: #fff; background-color: #000')\n\n    sub.forEach((item) => {\n        const { type, message } = item\n\n        console[type](`%c${message}`, LOG_COLOR_MAP[type])\n    })\n\n    console.groupEnd()\n}\n\nexport default {\n    ...console,\n    group: logoGroup,\n}\n","import log from './log'\n\ntype RequestOptions = {\n    // 添加到 url 后: https://test.com?test=test\n    queryString?: Record<string, string | string[]>\n}\n\ntype RequestOnFulfilled = (config: RequestInit) => RequestInit\ntype RequestOnRejected = (error: Error) => Error\n\ntype ResponseOnFulfilled<V> = (response: Response) => V | Promise<V>\ntype ResponseOnRejected = (error: Error) => Error\n\ntype RequestInterceptors = {\n    request?: {\n        onFulfilled?: RequestOnFulfilled\n        onRejected?: RequestOnRejected\n    }[]\n    response?: {\n        onFulfilled?: ResponseOnFulfilled<any>\n        onRejected?: ResponseOnRejected\n    }[]\n}\n\n// 将拦截器存到全局内存中.\nconst interceptorsMap: RequestInterceptors = {\n    request: [],\n    response: [],\n}\n\n// 拦截器函数\nconst interceptors = {\n    request: {\n        // 添加拦截器到内存中\n        use: function (\n            onFulfilled?: RequestOnFulfilled,\n            onRejected?: RequestOnRejected,\n        ) {\n            interceptorsMap.request?.push({\n                onFulfilled,\n                onRejected,\n            })\n        },\n    },\n    response: {\n        use: function (\n            onFulfilled?: ResponseOnFulfilled<any>,\n            onRejected?: ResponseOnRejected,\n        ) {\n            interceptorsMap.response?.push({\n                onFulfilled,\n                onRejected,\n            })\n        },\n    },\n}\n\nconst checkResponse = (response: Response) => {\n    const { status, statusText } = response\n\n    if (status >= 200 && status < 300) {\n        return response\n    }\n\n    const error = new Error(statusText)\n\n    throw error\n}\n\nconst handleResponse = (response: Response) => {\n    const contentType = response.headers.get('content-type')\n\n    let newResponse: Response | Promise<Response> | null = null\n\n    interceptorsMap.response?.forEach(({ onFulfilled }) => {\n        if (onFulfilled) {\n            newResponse = onFulfilled(response)\n        }\n    })\n\n    if (contentType && contentType.includes('application/json')) {\n        return newResponse ?? response.json()\n    } else {\n        return newResponse ?? response.text()\n    }\n}\n\nconst handleResult = <R>(result: R) => {\n    return {\n        error: null,\n        data: result,\n        success: true,\n    }\n}\n\nconst handleError = (error: Error) => {\n    log.error('Request Error: ', error)\n\n    interceptorsMap.response?.forEach(({ onRejected }) => {\n        if (onRejected) {\n            onRejected(error)\n        }\n    })\n\n    throw error\n}\n\nasync function request<Result = any>(\n    url: string,\n    params?: RequestInit & RequestOptions,\n): Promise<{\n    data: Result\n    success: boolean\n    error: Error | null\n}> {\n    const { queryString, ...reset } = params ?? {}\n\n    const headers: Record<string, string> = {\n        Accept: '*/*',\n        ...((params?.headers as Record<string, string>) ?? {}),\n    }\n\n    // queryString: ?a=1&a=2&b=3\n    if (queryString) {\n        url += `?${Object.keys(queryString)\n            .map((key) => {\n                const value = queryString[key]\n                // 如果是数组 => a=1&a=2\n                if (Array.isArray(value)) {\n                    let result = ''\n                    value.forEach((item) => {\n                        result += `${key}=${item}&`\n                    })\n\n                    // 删除最后个 &\n                    return result.replace(/&$/, '')\n                }\n\n                return `${key}=${value}`\n            })\n            .join('&')}`\n    }\n\n    let options: RequestInit = {\n        ...reset,\n        headers,\n    }\n\n    // 调用请求拦截\n    interceptorsMap.request?.forEach(async ({ onFulfilled, onRejected }) => {\n        if (onFulfilled) {\n            options = onFulfilled(options)\n        }\n    })\n\n    return fetch(url, options)\n        .then(checkResponse)\n        .then(handleResponse)\n        .then(handleResult)\n        .catch(handleError)\n}\n\nrequest.interceptors = interceptors\n\nexport default request\n"],"sourceRoot":""}