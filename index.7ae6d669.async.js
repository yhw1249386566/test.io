(self["webpackChunk"]=self["webpackChunk"]||[]).push([[826],{28487:function(e){e.exports={content:"content___3-pTm",layout:"layout___1uzIr",absoluteHorizontalVerticalCenter:"absoluteHorizontalVerticalCenter___21_uB",marginHorizontalVerticalCenter:"marginHorizontalVerticalCenter___3QJyU",textOverflowEllipsis:"textOverflowEllipsis___1wr59"}},92649:function(e){e.exports={"header-light":"header-light___3cGmx","header-dark":"header-dark___pcRuq",header:"header___2O2lm",bars:"bars___26yCn",title:"title___a0WaH",themeIcon:"themeIcon___q2Qkx",hideBars:"hideBars___bkJr0",headerInfo:"headerInfo___25wHO",back:"back___FsmmO",hideLeftIcon:"hideLeftIcon___L5pJo",navigation:"navigation___3mfr-",absoluteHorizontalVerticalCenter:"absoluteHorizontalVerticalCenter___2C_vn",marginHorizontalVerticalCenter:"marginHorizontalVerticalCenter___scs3c",textOverflowEllipsis:"textOverflowEllipsis___PsGMq"}},26812:function(e,t,n){"use strict";var i=n(64714);Symbol();class r extends i.Z{constructor(){super(),this.singleEventEmitterInstance=void 0,this.singleEventEmitterInstance=null}static get singleInstance(){return this.singleEventEmitterInstance||(this.singleEventEmitterInstance=new i.Z),this.singleEventEmitterInstance}on(e,t,n){var i;return null===(i=this.singleEventEmitterInstance)||void 0===i||i.on(e,t,n),this}emit(e){for(var t,n,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return null!==(t=null===(n=this.singleEventEmitterInstance)||void 0===n?void 0:n.emit(e,...r))&&void 0!==t&&t}off(e,t,n,i){var r;return null===(r=this.singleEventEmitterInstance)||void 0===r||r.off(e,t,n,i),this}removeAllListeners(e){var t;return null===(t=this.singleEventEmitterInstance)||void 0===t||t.removeAllListeners(e),this}}r.singleEventEmitterInstance=void 0,t["Z"]=r},29911:function(e,t,n){"use strict";var i=n(8870),r=Symbol();class a{constructor(e){if(this.db=void 0,this.dbName=void 0,this.dbVersion=void 0,this.dbStoreName=void 0,this.specifyKey=void 0,e&&e!==r)throw new Error("\u610f\u5916\u7684\u91cd\u590d\u521d\u59cb\u5316 IndexedDB");this.db=null,this.dbName="",this.dbVersion=1,this.dbStoreName="",this.specifyKey=""}static get singleInstance(){return this.indexedDBInstance||(this.indexedDBInstance=new a(r)),this.indexedDBInstance}getObjectStore(e,t){var n,i,r;return null!==(n=this.db)&&void 0!==n&&n.transaction||(sessionStorage.setItem("indexedDB_this",JSON.stringify(this)),location.reload(),console.info("\u5df2\u5c1d\u8bd5\u5237\u65b0\u9875\u9762\uff0c\u67e5\u770b session \u627e\u9519\u8bef\u539f\u56e0")),null===(i=this.db)||void 0===i||null===(r=i.transaction(e,t))||void 0===r?void 0:r.objectStore(e)}open(e){var t=null!==e&&void 0!==e?e:{},n=t.specifyKey,i=void 0===n?"filepath":n,r=t.dbName,a=void 0===r?"yomuaDB":r,s=t.dbVersion,o=void 0===s?1:s,l=t.dbStoreName,d=void 0===l?"yomua":l;this.dbName=a,this.dbVersion=o,this.dbStoreName=d,this.specifyKey=i;var c=window.indexedDB.open(a,o);c.onupgradeneeded=e=>{var t,n=null===e||void 0===e||null===(t=e.currentTarget)||void 0===t?void 0:t.result.createObjectStore(d,{keyPath:"id",autoIncrement:!0});n.createIndex(this.specifyKey,this.specifyKey,{unique:!0})},c.onsuccess=()=>{this.db=c.result}}getDataFromStore(e){if(!e)return null;var t=this.getObjectStore(this.dbStoreName,"readonly"),n=t.index(this.specifyKey);return n.get(e)}addDataFromStore(e,t){if(!e)return null;var n=this.getObjectStore(this.dbStoreName,"readwrite");return null===n||void 0===n?void 0:n.add((0,i.Z)((0,i.Z)({},t),{},{filepath:e}))}deleteDataFromStore(e){if(!e)return null;var t=this.getObjectStore(this.dbStoreName,"readwrite"),n=t.index(this.specifyKey);n.get(e).onsuccess=e=>{var n,i,r=null===e||void 0===e||null===(n=e.target)||void 0===n||null===(i=n.result)||void 0===i?void 0:i.id;null===t||void 0===t||t.delete(r)}}updateDataFromStore(e,t){if(!e)return null;var n=this.getObjectStore(this.dbStoreName,"readwrite"),r=n.getAll();r.onsuccess=r=>{var a,s=(null===r||void 0===r||null===(a=r.target)||void 0===a?void 0:a.result)||[],o=s.find((t=>t.filepath===e));o?n.put((0,i.Z)((0,i.Z)({},o),{},{file:t})):this.addDataFromStore(e,{filepath:e,file:t})}}clearDataFromStore(){var e=this.getObjectStore(this.dbStoreName,"readwrite");e.clear()}}a.indexedDBInstance=void 0,t["Z"]=a},66594:function(e,t,n){"use strict";var i,r,a;n.d(t,{QV:function(){return r},Re:function(){return a}}),function(e){e["Index"]="\u9996\u9875",e["Type"]="\u5206\u7c7b",e["Mood"]="\u5fc3\u60c5",e["About"]="\u5173\u4e8e"}(i||(i={})),function(e){e["Index"]="index",e["Type"]="type",e["Mood"]="mood",e["About"]="about"}(r||(r={})),function(e){e["OPEN_ARTICLE_DIRECTORY"]="openArticleDirectoryOnlyArticle"}(a||(a={}))},19696:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});n(24793);var i=n(25596),r=n(57337),a=n(67294),s=n(84131),o=n(9382),l=n(747),d=n(29911),c=n(28487),u=n.n(c),h=n(10186),v=n(51615),m=n(67814),_=n(57208),f=n(26812),g=n(19228),b=n(66594),I=n(92649),p=n.n(I),y=n(85893),E=e=>{var t=e.theme,n=void 0===t?"light":t,i=e.onToggleTheme,o=void 0===i?()=>null:i,l=(0,a.useState)(!1),d=(0,r.Z)(l,2),c=d[0],u=d[1],I=(0,v.k6)(),E=(0,v.TH)(),S=(0,a.useCallback)((()=>{I.push("/".concat(b.QV.Index)),u(!1)}),[]),x=(0,a.useCallback)((e=>()=>{g.tO.saveLocalStorage({key:"data-theme",value:"light"===e?"dark":"light"}),o("light"!==e?"light":"dark")}),[]),C=(0,a.useCallback)((()=>{f.Z.singleInstance.emit(b.Re.OPEN_ARTICLE_DIRECTORY,{isShowX:!c})}),[c]);(0,a.useCallback)((()=>{I.goBack()}),[]);return(0,a.useEffect)((()=>{var e=g.tO.getLocalStorage("data-theme");return e&&o(e),f.Z.singleInstance.on(b.Re.OPEN_ARTICLE_DIRECTORY,(e=>{var t=e.isShowX;u(t)})),()=>{f.Z.singleInstance.off(b.Re.OPEN_ARTICLE_DIRECTORY)}}),[]),(0,y.jsx)("div",{className:(0,_.Z)(p().header,p()["header-".concat(n)]),children:(0,y.jsxs)(h.Nm,{alignItems:"center",justifyContent:"space-between",className:p().headerInfo,children:[(0,y.jsx)(m.G,{icon:c?"times":"bars",className:(0,_.Z)(p().bars,{[p().hideBars]:"/feature/article"!==E.pathname&&!E.pathname.includes("/heading")}),onClick:C}),(0,y.jsx)(h.xv,{className:p().title,onClick:S,children:"\u9752\u82bd"}),(0,y.jsx)(m.G,{className:p().themeIcon,icon:"light"===n?s.enB:s.DBF,onClick:x(n)})]})})},S=(0,a.memo)(E),x=n(90155);o.vI.add(s.mRB,l.pZl,l.NY9,l.D9H,l.sd1),d.Z.singleInstance.open({dbName:"yomuaDB",dbVersion:1,dbStoreName:"yomua",specifyKey:"filepath"});var C=e=>{var t=(0,a.useState)("light"),n=(0,r.Z)(t,2),s=n[0],o=n[1],l=(0,a.useCallback)((e=>{o(e)}),[]);return(0,a.useEffect)((()=>{var e=document.querySelector("html");e&&e.setAttribute("data-theme",s)}),[s]),(0,y.jsx)(x.f,{theme:s,children:(0,y.jsxs)(i.Z,{className:u().layout,children:[(0,y.jsx)(S,{theme:s,onToggleTheme:l}),(0,y.jsxs)(i.Z.Content,{className:u().content,children:[(0,y.jsx)(h.YE,{}),e.children]})]})})},N=C}}]);
//# sourceMappingURL=index.7ae6d669.async.js.map