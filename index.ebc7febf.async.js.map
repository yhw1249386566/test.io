{"version":3,"sources":["webpack:///./src/index.less","webpack:///./src/layouts/footer/index.less","webpack:///./src/layouts/header/index.less","webpack:///./packages/y-eventmitter/index.ts","webpack:///./packages/y-indexeddb/index.ts","webpack:///./src/constant.ts","webpack:///./src/layouts/footer/index.tsx","webpack:///./src/layouts/header/index.tsx","webpack:///./src/index.tsx"],"names":["module","exports","Symbol","SingletonEventemitter","Eventemitter3","constructor","super","singleEventEmitterInstance","this","singleInstance","on","event","fn","context","emit","console","log","args","off","once","removeAllListeners","IndexedDBSymbol","IndexedDB","symbol","db","dbName","dbVersion","dbStoreName","specifyKey","Error","indexedDBInstance","getObjectStore","mode","transaction","sessionStorage","setItem","JSON","stringify","location","reload","info","objectStore","open","options","req","window","indexedDB","onupgradeneeded","store","currentTarget","result","createObjectStore","keyPath","autoIncrement","createIndex","unique","onsuccess","getDataFromStore","filepath","index","get","addDataFromStore","data","add","deleteDataFromStore","id","target","delete","updateDataFromStore","updateData","allRequest","getAll","allData","dataToUpdate","find","value","put","file","clearDataFromStore","clear","RouteName","RouteLink","Footer","theme","useTheme","className","classnames","style","memo","Header","props","onToggleTheme","history","useHistory","useLocation","handleClickTitle","useCallback","push","handleToggleTheme","handleBack","goBack","icon","onClick","EventEmitter","alignItems","justifyContent","pathname","faSun","faMoon","library","fas","faFacebookSquare","faYoutubeSquare","faLinkedin","faTwitterSquare","Index","useState","setTheme","handleChangeTheme","useEffect","html","document","querySelector","setAttribute","children"],"mappings":"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","file":"index.ebc7febf.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"content___3-pTm\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___21_uB\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___3QJyU\",\"textOverflowEllipsis\":\"textOverflowEllipsis___1wr59\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer-light\":\"footer-light___19VFF\",\"footer-dark\":\"footer-dark___3SyCX\",\"footer\":\"footer___3sK6W\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___1toOz\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___ewZud\",\"textOverflowEllipsis\":\"textOverflowEllipsis___1MAII\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header-light\":\"header-light___3cGmx\",\"header-dark\":\"header-dark___pcRuq\",\"header\":\"header___2O2lm\",\"bars\":\"bars___26yCn\",\"headerInfo\":\"headerInfo___25wHO\",\"back\":\"back___FsmmO\",\"themeIcon\":\"themeIcon___q2Qkx\",\"hideLeftIcon\":\"hideLeftIcon___L5pJo\",\"title\":\"title___a0WaH\",\"navigation\":\"navigation___3mfr-\",\"absoluteHorizontalVerticalCenter\":\"absoluteHorizontalVerticalCenter___2C_vn\",\"marginHorizontalVerticalCenter\":\"marginHorizontalVerticalCenter___scs3c\",\"textOverflowEllipsis\":\"textOverflowEllipsis___PsGMq\"};","import Eventemitter3 from 'eventemitter3'\n\nconst EventemitterSymbol = Symbol()\n\n/**\n * Reference:\n * https://nodejs.org/api/events.html#events\n * http://nodejs.cn/api-v16/events.html#events\n * https://www.npmjs.com/package/eventemitter3\n */\nclass SingletonEventemitter extends Eventemitter3 {\n    /* eslint-disable no-use-before-define */\n    // 因为 singleInstance - this 的类型是 SingletonEventemitter, 所以要使用 this.singleEventEmitterInstance 就得规定个 static singleEventEmitterInstance\n    static singleEventEmitterInstance: Eventemitter3\n    singleEventEmitterInstance: Eventemitter3 | null\n    /* eslint-disable no-use-before-define */\n\n    constructor() {\n        super()\n        this.singleEventEmitterInstance = null\n    }\n\n    static get singleInstance() {\n        if (!this.singleEventEmitterInstance) {\n            this.singleEventEmitterInstance = new Eventemitter3()\n        }\n\n        return this.singleEventEmitterInstance\n    }\n\n    // 注册一个事件并添加监听器\n    on<T extends string | symbol>(\n        event: T,\n        fn: (...args: any[]) => void,\n        context?: any,\n    ): this {\n        this.singleEventEmitterInstance?.on(event, fn, context)\n\n        return this\n    }\n\n    // 触发某个注册的事件的监听器\n    emit<T extends string | symbol>(event: T, ...args: any[]): boolean {\n        console.log('_this', this)\n        return this.singleEventEmitterInstance?.emit(event, ...args) ?? false\n    }\n\n    // 移除某个注册事件\n    off<T extends string | symbol>(\n        event: T,\n        fn?: ((...args: any[]) => void) | undefined,\n        context?: any,\n        once?: boolean | undefined,\n    ): this {\n        this.singleEventEmitterInstance?.off(event, fn, context, once)\n\n        return this\n    }\n\n    // 移除所有事件\n    removeAllListeners(event?: string | symbol | undefined): this {\n        this.singleEventEmitterInstance?.removeAllListeners(event)\n\n        return this\n    }\n}\n\nexport default SingletonEventemitter\n\ntype A = typeof SingletonEventemitter\nlet Test: A\n","type Data = { filepath: string; file: string }\n\nconst IndexedDBSymbol = Symbol()\n\nclass IndexedDB {\n    /* eslint-disable no-use-before-define */\n    static indexedDBInstance: IndexedDB\n    /* eslint-disable no-use-before-define */\n    private db: IDBDatabase\n    private dbName: string\n    private dbVersion: number\n    private dbStoreName: string\n    private specifyKey: string\n\n    constructor(symbol?: symbol) {\n        /**\n         * 以下方法允许开发者即使多次使用 new 也能创建单实例\n         * 坏处是：用户不能创建多实例了，由于这是一个 package\n         * 所以不使用此方法，而是提供 singleInstance 让用户选择单实例或多实例（多次 new）\n         */\n        // if (IndexedDB.indexedDBInstance) {\n        //     return IndexedDB.indexedDBInstance\n        // }\n        // IndexedDB.indexedDBInstance = this\n\n        if (symbol && symbol !== IndexedDBSymbol) {\n            throw new Error('意外的重复初始化 IndexedDB')\n        }\n\n        this.db = null as any\n        this.dbName = ''\n        this.dbVersion = 1\n        this.dbStoreName = ''\n        this.specifyKey = ''\n    }\n\n    static get singleInstance() {\n        if (!this.indexedDBInstance) {\n            this.indexedDBInstance = new IndexedDB(IndexedDBSymbol)\n        }\n\n        return this.indexedDBInstance\n    }\n\n    private getObjectStore(\n        dbStoreName: string,\n        mode: 'readonly' | 'readwrite' | 'versionchange',\n    ) {\n        if (!this.db?.transaction) {\n            sessionStorage.setItem('indexedDB_this', JSON.stringify(this))\n            location.reload()\n            console.info('已尝试刷新页面，查看 session 找错误原因')\n        }\n\n        return this.db?.transaction(dbStoreName, mode)?.objectStore(dbStoreName)\n    }\n\n    // 初始化请求\n    open(options?: {\n        specifyKey?: string // 用来通过此 key 进行 get, delete\n        dbName?: string\n        dbVersion?: number\n        dbStoreName?: string\n    }) {\n        const {\n            specifyKey = 'filepath',\n            dbName = 'yomuaDB',\n            dbVersion = 1,\n            dbStoreName = 'yomua',\n        } = options ?? {}\n\n        this.dbName = dbName\n        this.dbVersion = dbVersion\n        this.dbStoreName = dbStoreName\n        this.specifyKey = specifyKey\n\n        const req = window.indexedDB.open(dbName, dbVersion)\n\n        req.onupgradeneeded = (event: any) => {\n            const store = event?.currentTarget?.result.createObjectStore(\n                dbStoreName,\n                {\n                    keyPath: 'id',\n                    autoIncrement: true,\n                },\n            )\n\n            store.createIndex(this.specifyKey, this.specifyKey, {\n                unique: true,\n            })\n        }\n\n        req.onsuccess = () => {\n            // Better use \"this\" than \"req\" to get the result to avoid problems with garbage collection.\n            // 但是使用 class 方法比较麻烦，这里就直接使用 req.result\n            // db = this.result;\n            this.db = req.result\n\n            // 不能这么做，事务将会在 onsuccess 结束后就被关闭\n            // 参见：https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API/Using_IndexedDB#%E5%90%91%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E5%A2%9E%E5%8A%A0%E6%95%B0%E6%8D%AE\n            // this.store = this.getObjectStore(this.dbStoreName, 'readwrite')\n        }\n    }\n\n    getDataFromStore(filepath: string) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readonly')\n        const index = store.index(this.specifyKey)\n\n        return index.get(filepath)\n    }\n\n    addDataFromStore(filepath: string, data: Data) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n\n        return store?.add({\n            ...data,\n            filepath,\n        })\n    }\n\n    deleteDataFromStore(filepath: string) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n\n        const req = store.index(this.specifyKey)\n\n        req.get(filepath).onsuccess = (event: any) => {\n            const id = event?.target?.result?.id\n            store?.delete(id)\n        }\n    }\n\n    updateDataFromStore(filepath: string, updateData: string) {\n        if (!filepath) return null as any\n\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n\n        const allRequest = store.getAll()\n\n        allRequest.onsuccess = (event: any) => {\n            const allData = event?.target?.result || []\n\n            const dataToUpdate = allData.find(\n                (value: Data) => value.filepath === filepath,\n            )\n\n            if (!dataToUpdate) {\n                this.addDataFromStore(filepath, { filepath, file: updateData })\n                return\n            }\n\n            store.put({\n                ...dataToUpdate,\n                file: updateData,\n            })\n        }\n    }\n\n    clearDataFromStore() {\n        const store = this.getObjectStore(this.dbStoreName, 'readwrite')\n        store.clear()\n    }\n}\n\nexport default IndexedDB","export enum RouteName {\n    Index = '首页',\n    Type = '分类',\n    Mood = '心情',\n    About = '关于',\n}\n\nexport enum RouteLink {\n    Index = 'index',\n    Type = 'type',\n    Mood = 'mood',\n    About = 'about',\n}\n\n","import { memo } from 'react'\n\nimport classnames from '~/packages/y-classnames'\n\nimport { useTheme } from '@/hooks'\nimport { Text, Direction } from '@/component'\n\nimport style from './index.less'\n\nconst Footer = () => {\n    const theme = useTheme()\n\n    return (\n        <Direction\n            className={classnames(style.footer, style[`footer-${theme}`])}\n        >\n            <Text>©2021 Created by Yomua</Text>\n        </Direction>\n    )\n}\n\nexport default memo(Footer)\n","import { memo, useCallback } from 'react'\nimport { useHistory } from 'umi'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSun, faMoon } from '@fortawesome/free-solid-svg-icons'\n\nimport classnames from '~/packages/y-classnames'\nimport EventEmitter from '~/packages/y-eventmitter'\n\nimport { Text, Direction } from '@/component'\nimport { RouteName, RouteLink } from '@/constant'\n\nimport style from './index.less'\nimport { useLocation } from 'umi'\n\ninterface HeaderProps {\n    theme?: Theme\n    onToggleTheme?: (theme: Theme) => void\n}\n\n// const navigationData = [\n//     { id: 'index', label: RouteName.Index, link: RouteLink.Index },\n//     { id: 'type', label: RouteName.Type, link: RouteLink.Type },\n//     { id: 'mood', label: RouteName.Mood, link: RouteLink.Mood },\n//     { id: 'about', label: RouteName.About, link: RouteLink.About },\n// ]\n\nconst Header = (props: HeaderProps) => {\n    const { theme = 'light', onToggleTheme = () => null } = props\n\n    const history = useHistory()\n    const location = useLocation()\n\n    const handleClickTitle = useCallback(() => {\n        history.push(`/${RouteLink.Index}`)\n    }, [])\n\n    const handleToggleTheme = useCallback((theme: Theme) => {\n        return () => {\n            if (theme === 'light') {\n                onToggleTheme('dark')\n                return\n            }\n            onToggleTheme('light')\n        }\n    }, [])\n\n    const handleBack = useCallback(() => {\n        history.goBack()\n    }, [])\n\n    return (\n        <div className={classnames(style.header, style[`header-${theme}`])}>\n            <FontAwesomeIcon\n                icon='bars'\n                className={style.bars}\n                onClick={() => {\n                    EventEmitter.singleInstance.emit(\n                        'openArticleDirectoryInMobile',\n                    )\n                }}\n            />\n\n            <Direction\n                alignItems='center'\n                justifyContent='space-between'\n                className={style.headerInfo}\n            >\n                <FontAwesomeIcon\n                    className={classnames(style.back, {\n                        [style.hideLeftIcon]:\n                            location.pathname === `/${RouteLink.Index}`,\n                    })}\n                    icon='chevron-left'\n                    onClick={handleBack}\n                />\n                <Text className={style.title} onClick={handleClickTitle}>\n                    青芽\n                </Text>\n\n                <FontAwesomeIcon\n                    className={style.themeIcon}\n                    icon={theme === 'light' ? faSun : faMoon}\n                    onClick={handleToggleTheme(theme)}\n                />\n            </Direction>\n\n            {/* 暂时不需要 Index Type Mood About 这些 */}\n            {/*  <Direction>\n                <Navigation\n                    data={navigationData}\n                    className={style.navigation}\n                />\n            </Direction> */}\n        </div>\n    )\n}\n\nexport default memo(Header)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Layout } from 'antd'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n    faLinkedin,\n    faTwitterSquare,\n    faYoutubeSquare,\n    faFacebookSquare,\n} from '@fortawesome/free-brands-svg-icons'\n\nimport IndexedDB from '~/packages/y-indexeddb'\n\nimport style from './index.less'\nimport Footer from './layouts/footer'\nimport { Sidebar } from './component'\nimport Header from './layouts/header'\nimport { ThemeProvider } from './contexts'\n\n// 添加 fontawesome 免费版: https://fontawesome.com/search?q=menu&o=r&m=free\nlibrary.add(fas, faFacebookSquare, faYoutubeSquare, faLinkedin, faTwitterSquare)\n\n// 初始化 IndexedDB\nIndexedDB.singleInstance.open({\n    dbName: 'yomuaDB',\n    dbVersion: 1,\n    dbStoreName: 'yomua',\n    specifyKey: 'filepath',\n})\n\nconst Index = (props: { children: React.ReactNode }) => {\n    const [theme, setTheme] = useState<Theme>('light')\n\n    const handleChangeTheme = useCallback((theme: Theme) => {\n        setTheme(theme)\n    }, [])\n\n    useEffect(() => {\n        const html = document.querySelector('html')\n\n        if (!html) {\n            return\n        }\n\n        html.setAttribute('data-theme', theme)\n    }, [theme])\n\n    return (\n        <ThemeProvider theme={theme}>\n            <Layout className={style.layout}>\n                <Header theme={theme} onToggleTheme={handleChangeTheme} />\n\n                <Layout.Content className={style.content}>\n                    <Sidebar />\n                    {props.children}\n                </Layout.Content>\n\n                <Footer />\n            </Layout>\n        </ThemeProvider>\n    )\n}\n\nexport default Index\n"],"sourceRoot":""}