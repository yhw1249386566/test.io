(self["webpackChunk"]=self["webpackChunk"]||[]).push([[826],{28487:function(e){e.exports={content:"content___3-pTm",absoluteHorizontalVerticalCenter:"absoluteHorizontalVerticalCenter___21_uB",marginHorizontalVerticalCenter:"marginHorizontalVerticalCenter___3QJyU",textOverflowEllipsis:"textOverflowEllipsis___1wr59"}},20425:function(e){e.exports={"footer-light":"footer-light___19VFF","footer-dark":"footer-dark___3SyCX",footer:"footer___3sK6W",absoluteHorizontalVerticalCenter:"absoluteHorizontalVerticalCenter___1toOz",marginHorizontalVerticalCenter:"marginHorizontalVerticalCenter___ewZud",textOverflowEllipsis:"textOverflowEllipsis___1MAII"}},92649:function(e){e.exports={"header-light":"header-light___3cGmx","header-dark":"header-dark___pcRuq",header:"header___2O2lm",bars:"bars___26yCn",headerInfo:"headerInfo___25wHO",back:"back___FsmmO",themeIcon:"themeIcon___q2Qkx",hideLeftIcon:"hideLeftIcon___L5pJo",title:"title___a0WaH",navigation:"navigation___3mfr-",absoluteHorizontalVerticalCenter:"absoluteHorizontalVerticalCenter___2C_vn",marginHorizontalVerticalCenter:"marginHorizontalVerticalCenter___scs3c",textOverflowEllipsis:"textOverflowEllipsis___PsGMq"}},26812:function(e,t,n){"use strict";var i=n(64714);Symbol();class r extends i.Z{constructor(){super(),this.singleEventEmitterInstance=void 0,this.singleEventEmitterInstance=null}static get singleInstance(){return this.singleEventEmitterInstance||(this.singleEventEmitterInstance=new i.Z),this.singleEventEmitterInstance}on(e,t,n){var i;return null===(i=this.singleEventEmitterInstance)||void 0===i||i.on(e,t,n),this}emit(e){var t,n;console.log("_this",this);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return null!==(t=null===(n=this.singleEventEmitterInstance)||void 0===n?void 0:n.emit(e,...r))&&void 0!==t&&t}off(e,t,n,i){var r;return null===(r=this.singleEventEmitterInstance)||void 0===r||r.off(e,t,n,i),this}removeAllListeners(e){var t;return null===(t=this.singleEventEmitterInstance)||void 0===t||t.removeAllListeners(e),this}}r.singleEventEmitterInstance=void 0,t["Z"]=r},29911:function(e,t,n){"use strict";var i=n(8870),r=Symbol();class o{constructor(e){if(this.db=void 0,this.dbName=void 0,this.dbVersion=void 0,this.dbStoreName=void 0,this.specifyKey=void 0,e&&e!==r)throw new Error("\u610f\u5916\u7684\u91cd\u590d\u521d\u59cb\u5316 IndexedDB");this.db=null,this.dbName="",this.dbVersion=1,this.dbStoreName="",this.specifyKey=""}static get singleInstance(){return this.indexedDBInstance||(this.indexedDBInstance=new o(r)),this.indexedDBInstance}getObjectStore(e,t){var n,i,r;return null!==(n=this.db)&&void 0!==n&&n.transaction||(sessionStorage.setItem("indexedDB_this",JSON.stringify(this)),location.reload(),console.info("\u5df2\u5c1d\u8bd5\u5237\u65b0\u9875\u9762\uff0c\u67e5\u770b session \u627e\u9519\u8bef\u539f\u56e0")),null===(i=this.db)||void 0===i||null===(r=i.transaction(e,t))||void 0===r?void 0:r.objectStore(e)}open(e){var t=null!==e&&void 0!==e?e:{},n=t.specifyKey,i=void 0===n?"filepath":n,r=t.dbName,o=void 0===r?"yomuaDB":r,s=t.dbVersion,a=void 0===s?1:s,l=t.dbStoreName,c=void 0===l?"yomua":l;this.dbName=o,this.dbVersion=a,this.dbStoreName=c,this.specifyKey=i;var d=window.indexedDB.open(o,a);d.onupgradeneeded=e=>{var t,n=null===e||void 0===e||null===(t=e.currentTarget)||void 0===t?void 0:t.result.createObjectStore(c,{keyPath:"id",autoIncrement:!0});n.createIndex(this.specifyKey,this.specifyKey,{unique:!0})},d.onsuccess=()=>{this.db=d.result}}getDataFromStore(e){if(!e)return null;var t=this.getObjectStore(this.dbStoreName,"readonly"),n=t.index(this.specifyKey);return n.get(e)}addDataFromStore(e,t){if(!e)return null;var n=this.getObjectStore(this.dbStoreName,"readwrite");return null===n||void 0===n?void 0:n.add((0,i.Z)((0,i.Z)({},t),{},{filepath:e}))}deleteDataFromStore(e){if(!e)return null;var t=this.getObjectStore(this.dbStoreName,"readwrite"),n=t.index(this.specifyKey);n.get(e).onsuccess=e=>{var n,i,r=null===e||void 0===e||null===(n=e.target)||void 0===n||null===(i=n.result)||void 0===i?void 0:i.id;null===t||void 0===t||t.delete(r)}}updateDataFromStore(e,t){if(!e)return null;var n=this.getObjectStore(this.dbStoreName,"readwrite"),r=n.getAll();r.onsuccess=r=>{var o,s=(null===r||void 0===r||null===(o=r.target)||void 0===o?void 0:o.result)||[],a=s.find((t=>t.filepath===e));a?n.put((0,i.Z)((0,i.Z)({},a),{},{file:t})):this.addDataFromStore(e,{filepath:e,file:t})}}clearDataFromStore(){var e=this.getObjectStore(this.dbStoreName,"readwrite");e.clear()}}o.indexedDBInstance=void 0,t["Z"]=o},66594:function(e,t,n){"use strict";var i,r;n.d(t,{Q:function(){return r}}),function(e){e["Index"]="\u9996\u9875",e["Type"]="\u5206\u7c7b",e["Mood"]="\u5fc3\u60c5",e["About"]="\u5173\u4e8e"}(i||(i={})),function(e){e["Index"]="index",e["Type"]="type",e["Mood"]="mood",e["About"]="about"}(r||(r={}))},52088:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});n(24793);var i=n(25596),r=n(57337),o=n(67294),s=n(84131),a=n(9382),l=n(747),c=n(29911),d=n(28487),u=n.n(d),h=n(57208),v=n(31945),m=n(10186),_=n(20425),f=n.n(_),b=n(85893),g=()=>{var e=(0,v.F)();return(0,b.jsx)(m.Nm,{className:(0,h.Z)(f().footer,f()["footer-".concat(e)]),children:(0,b.jsx)(m.xv,{children:"\xa92021 Created by Yomua"})})},p=(0,o.memo)(g),x=n(51615),I=n(67814),y=n(26812),S=n(66594),E=n(92649),C=n.n(E),N=e=>{var t=e.theme,n=void 0===t?"light":t,i=e.onToggleTheme,r=void 0===i?()=>null:i,a=(0,x.k6)(),l=(0,x.TH)(),c=(0,o.useCallback)((()=>{a.push("/".concat(S.Q.Index))}),[]),d=(0,o.useCallback)((e=>()=>{r("light"!==e?"light":"dark")}),[]),u=(0,o.useCallback)((()=>{a.goBack()}),[]);return(0,b.jsxs)("div",{className:(0,h.Z)(C().header,C()["header-".concat(n)]),children:[(0,b.jsx)(I.G,{icon:"bars",className:C().bars,onClick:()=>{y.Z.singleInstance.emit("openArticleDirectoryInMobile")}}),(0,b.jsxs)(m.Nm,{alignItems:"center",justifyContent:"space-between",className:C().headerInfo,children:[(0,b.jsx)(I.G,{className:(0,h.Z)(C().back,{[C().hideLeftIcon]:l.pathname==="/".concat(S.Q.Index)}),icon:"chevron-left",onClick:u}),(0,b.jsx)(m.xv,{className:C().title,onClick:c,children:"\u9752\u82bd"}),(0,b.jsx)(I.G,{className:C().themeIcon,icon:"light"===n?s.enB:s.DBF,onClick:d(n)})]})]})},k=(0,o.memo)(N),j=n(90155);a.vI.add(s.mRB,l.pZl,l.NY9,l.D9H,l.sd1),c.Z.singleInstance.open({dbName:"yomuaDB",dbVersion:1,dbStoreName:"yomua",specifyKey:"filepath"});var w=e=>{var t=(0,o.useState)("light"),n=(0,r.Z)(t,2),s=n[0],a=n[1],l=(0,o.useCallback)((e=>{a(e)}),[]);return(0,o.useEffect)((()=>{var e=document.querySelector("html");e&&e.setAttribute("data-theme",s)}),[s]),(0,b.jsx)(j.f,{theme:s,children:(0,b.jsxs)(i.Z,{className:u().layout,children:[(0,b.jsx)(k,{theme:s,onToggleTheme:l}),(0,b.jsxs)(i.Z.Content,{className:u().content,children:[(0,b.jsx)(m.YE,{}),e.children]}),(0,b.jsx)(p,{})]})})},D=w}}]);
//# sourceMappingURL=index.ebc7febf.async.js.map