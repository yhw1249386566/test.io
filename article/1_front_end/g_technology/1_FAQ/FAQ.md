# React

## 表单数据注意

当切换数据 A 导致数据 B 没有数据时，需要清空保存在 state 中的数据 B，否则数据 B 将会遗留上一次保存的数据。

# 使用时间戳

## 重复的时间戳

```ts
const timestamp = Date.now()
```

当使用时间戳作为一个**唯一值**时，需要注意：

- 时间戳不能保证是唯一的，即使它的单位是 ms

这是由于对于计算机的运行速度来说，ms 作为单位仍然慢的不行，所以是有概率重复的

```ts
console.log(Date.now());
console.log(Date.now());
// 会输出两个一样的 时间戳
```

所以为了解决时间戳可能重复的问题，并且保留时间信息，可以使用一个 `seed` 来作为随机数，添加到时间戳的后面：

```ts
const seed = `${Math.random()}`.substring(2)
const id = `${Date.now()}.${seed}` // 结果类似于: 1680165619990.6452298978889348
```

- 注意：有些命名不能使用 `.` 作为 flag, 所以你可以把 `.` 换成任何你觉得符合规则的 flag.