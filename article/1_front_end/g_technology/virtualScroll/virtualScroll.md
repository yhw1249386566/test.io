



# 局限性

- 虚拟化列表**通常**只适用于展示不可变的数据

  - 即：当数据渲染在页面后，没有方式可以更改它。

  如果将虚拟化列表用于可变数据，**有可能**会导致无限渲染，从而使得页面崩溃

  - 即：虚拟化列表每次滚动时，都会删除看不到的项，创建会在视区中的项；

    若每一项中的数据可以改变，并且在类似于 `onChange` 事件中，使用了 `setState` 这类更新数据的操作，

    那么当项删除/创建时，就可能会触发 onChange -> setState，那么这一不小心，就可能导致无限渲染。

  当然这不是绝对的，如果你能保证不会无限渲染，那么也可以将虚拟化列表用户可变数据。

  *或者当展示的列表项是可变时，考虑使用 React.memo() 和 useCallback() 搭配，从而保证在某项改变时，不会把不相关的元素重新渲染。 这只适用于项的父子关系之间。*

​	